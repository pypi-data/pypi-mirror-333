
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Reading output files, plotting results and reporting simulation output &#8212; BuildingsPy documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FMI" href="fmi.html" />
    <link rel="prev" title="Running simulations" href="simulate.html" /> 
  </head><body>
<div class="headerStyle">
<img src="_static/lbl-logo.png" alt="LBL logo" />
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fmi.html" title="FMI"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="simulate.html" title="Running simulations"
             accesskey="P">previous</a> |</li>
    <li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt;
    <a href="http://simulationresearch.lbl.gov/modelica/buildingspy">BuildingsPy</a></li>
    </br>
<!--    
        <li class="nav-item nav-item-0"><a href="index.html">BuildingsPy documentation</a> &#187;</li> -->

        <li class="nav-item nav-item-this"><a href="">Reading output files, plotting results and reporting simulation output</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reading output files, plotting results and reporting simulation output</a><ul>
<li><a class="reference internal" href="#file-reader">File reader</a></li>
<li><a class="reference internal" href="#plotter">Plotter</a></li>
<li><a class="reference internal" href="#reporter">Reporter</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="simulate.html"
                        title="previous chapter">Running simulations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fmi.html"
                        title="next chapter">FMI</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-buildingspy.io">
<span id="reading-output-files-plotting-results-and-reporting-simulation-output"></span><h1>Reading output files, plotting results and reporting simulation output<a class="headerlink" href="#module-buildingspy.io" title="Permalink to this headline">¶</a></h1>
<dl class="simple">
<dt>This module contains the classes</dt><dd><ul class="simple">
<li><p><em>Reader</em> that can be used to read <code class="docutils literal notranslate"><span class="pre">*.mat</span></code> files that have been generated by Dymola,</p></li>
<li><p><em>Reporter</em> that can be used to report to the standard output and standard error streams, and</p></li>
<li><p><em>Plotter</em> that contains method to plot results.</p></li>
</ul>
</dd>
</dl>
<section id="file-reader">
<h2>File reader<a class="headerlink" href="#file-reader" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="buildingspy.io.outputfile.Reader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildingspy.io.outputfile.</span></span><span class="sig-name descname"><span class="pre">Reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulator</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.outputfile.Reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the file <code class="docutils literal notranslate"><span class="pre">fileName</span></code> and parse its content.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileName</strong> – The name of the file.</p></li>
<li><p><strong>simulator</strong> – The file format. Currently, the only supported
value is <code class="docutils literal notranslate"><span class="pre">dymola</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>This class reads <code class="docutils literal notranslate"><span class="pre">*.mat</span></code> files that were generated by Dymola
or OpenModelica.</p>
<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.outputfile.Reader.integral">
<span class="sig-name descname"><span class="pre">integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varName</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.outputfile.Reader.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the integral of the data series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varName</strong> – The name of the variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The integral of <code class="docutils literal notranslate"><span class="pre">varName</span></code>.</p>
</dd>
</dl>
<p>This function returns <span class="math notranslate nohighlight">\(\int_{t_0}^{t_1} x(s) \, ds\)</span>, where
<span class="math notranslate nohighlight">\(t_0\)</span> is the start time and <span class="math notranslate nohighlight">\(t_1\)</span> the final time of the data
series <span class="math notranslate nohighlight">\(x(\cdot)\)</span>, and <span class="math notranslate nohighlight">\(x(\cdot)\)</span> are the data values
of the variable <code class="docutils literal notranslate"><span class="pre">varName</span></code>.</p>
<dl>
<dt>Usage: Type</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;PlotDemo.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="s1">&#39;preHea.port.Q_flow&#39;</span><span class="p">)</span>
<span class="go">-21.589191160164773</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.outputfile.Reader.max">
<span class="sig-name descname"><span class="pre">max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varName</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.outputfile.Reader.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the maximum of the data series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varName</strong> – The name of the variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The maximum value of <code class="docutils literal notranslate"><span class="pre">varName</span></code>.</p>
</dd>
</dl>
<p>This function returns <span class="math notranslate nohighlight">\(\max \{x_k\}_{k=0}^{N-1}\)</span>, where
<span class="math notranslate nohighlight">\(\{x_k\}_{k=0}^{N-1}\)</span> are the values of the variable <code class="docutils literal notranslate"><span class="pre">varName</span></code>.</p>
<dl>
<dt>Usage: Type</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;PlotDemo.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="s1">&#39;preHea.port.Q_flow&#39;</span><span class="p">)</span>
<span class="go">-11.284342</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.outputfile.Reader.mean">
<span class="sig-name descname"><span class="pre">mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varName</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.outputfile.Reader.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mean of the data series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varName</strong> – The name of the variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The mean value of <code class="docutils literal notranslate"><span class="pre">varName</span></code>.</p>
</dd>
</dl>
<p>This function returns</p>
<div class="math notranslate nohighlight">
\[\frac{1}{t_1-t_0} \, \int_{t_0}^{t_1} x(s) \, ds,\]</div>
<p>where <span class="math notranslate nohighlight">\(t_0\)</span> is the start time and <span class="math notranslate nohighlight">\(t_1\)</span> the final time of the data
series <span class="math notranslate nohighlight">\(x(\cdot)\)</span>, and <span class="math notranslate nohighlight">\(x(\cdot)\)</span> are the data values
of the variable <code class="docutils literal notranslate"><span class="pre">varName</span></code>.</p>
<dl>
<dt>Usage: Type</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;PlotDemo.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;preHea.port.Q_flow&#39;</span><span class="p">)</span>
<span class="go">-21.589191160164773</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.outputfile.Reader.min">
<span class="sig-name descname"><span class="pre">min</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varName</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.outputfile.Reader.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimum of the data series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varName</strong> – The name of the variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The minimum value of <code class="docutils literal notranslate"><span class="pre">varName</span></code>.</p>
</dd>
</dl>
<p>This function returns <span class="math notranslate nohighlight">\(\min \{x_k\}_{k=0}^{N-1}\)</span>, where
<span class="math notranslate nohighlight">\(\{x_k\}_{k=0}^{N-1}\)</span> are the values of the variable <code class="docutils literal notranslate"><span class="pre">varName</span></code></p>
<dl>
<dt>Usage: Type</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;PlotDemo.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="s1">&#39;preHea.port.Q_flow&#39;</span><span class="p">)</span>
<span class="go">-50.0</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.outputfile.Reader.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">varName</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.outputfile.Reader.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time and data series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varName</strong> – The name of the variable.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An array where the first column is time and the second
column is the data series.</p>
</dd>
</dl>
<dl>
<dt>Usage: Type</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;PlotDemo.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">heatFlow</span><span class="p">)</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;preHea.port.Q_flow&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.outputfile.Reader.varNames">
<span class="sig-name descname"><span class="pre">varNames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.outputfile.Reader.varNames" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Pattern</dt>
<dd class="field-odd"><p>A regular expression that will be used to filter the variable names.</p>
</dd>
</dl>
<p>Scan through all variable names and return the variables
for which <code class="docutils literal notranslate"><span class="pre">pattern</span></code>, as a regular expression, produces a match.
If <code class="docutils literal notranslate"><span class="pre">pattern</span></code> is unspecified, all variable names are returned.</p>
<p>This method searches the variable names using the <code class="docutils literal notranslate"><span class="pre">search</span></code> function
from <a class="reference external" href="https://docs.python.org/2/library/re.html">Python’s re module</a>.</p>
<p>See also <a class="reference external" href="https://docs.python.org/2/howto/regex.html#regex-howto">https://docs.python.org/2/howto/regex.html#regex-howto</a>.</p>
<p>Usage: Type</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;PlotDemo.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return a list with all variable names</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">varNames</span><span class="p">()</span> 
<span class="go">[&#39;PID.Dzero.k&#39;, &#39;PID.Dzero.y&#39;, &#39;PID.I.der(y)&#39;, &#39;PID.I.initType&#39;, ...]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return [&#39;const.k&#39;, &#39;const.y&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">varNames</span><span class="p">(</span><span class="s1">&#39;const&#39;</span><span class="p">)</span>
<span class="go">[&#39;const.k&#39;, &#39;const.y&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Returns all variables whose last character is u</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">varNames</span><span class="p">(</span><span class="s1">&#39;u$&#39;</span><span class="p">)</span>
<span class="go">[&#39;PID.P.u&#39;, &#39;PID.gainPID.u&#39;, &#39;PID.limiter.u&#39;, &#39;gain.u&#39;, &#39;PID.I.u&#39;, &#39;PID.gainTrack.u&#39;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="plotter">
<h2>Plotter<a class="headerlink" href="#plotter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="buildingspy.io.postprocess.Plotter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildingspy.io.postprocess.</span></span><span class="sig-name descname"><span class="pre">Plotter</span></span><a class="headerlink" href="#buildingspy.io.postprocess.Plotter" title="Permalink to this definition">¶</a></dt>
<dd><p>This class contains static methods that can be used to create plots.
For an example of a simple plot, see also the example
in <a class="reference internal" href="examples.html#module-buildingspy.examples.dymola" title="buildingspy.examples.dymola"><code class="xref py py-mod docutils literal notranslate"><span class="pre">buildingspy.examples.dymola</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.postprocess.Plotter.boxplot">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">boxplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">increment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nIncrement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sym</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'b+'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch_artist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bootstrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.postprocess.Plotter.boxplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a boxplot of time data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – The support points in time as received from the <em>Reader</em>.</p></li>
<li><p><strong>y</strong> – The function values at <code class="docutils literal notranslate"><span class="pre">t</span></code> as received from the <em>Reader</em>.</p></li>
<li><p><strong>increment</strong> – The time increment that is used in the plot</p></li>
<li><p><strong>nIncrement</strong> – The number of increments before the data are wrapped.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method returns a
<a class="reference external" href="https://matplotlib.org/stable/api/pyplot_summary.html">matplotlib.pyplot</a> object that can be further
processed, such as to label its axis.</p>
</dd>
</dl>
<p>All other arguments are as explained at <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.boxplot.html">matplotlib’s boxplot documentation</a>.</p>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">increment</span></code> is used to set the support points in time
at which the statistics is made.
The parameter <code class="docutils literal notranslate"><span class="pre">nIncrement</span></code> is used to determine how many increments will
be made. For example,</p>
<ul class="simple">
<li><p>for hourly statistics, use the default, which is <code class="docutils literal notranslate"><span class="pre">increment=3600,</span> <span class="pre">nIncrement=24</span></code>, and</p></li>
<li><p>for statistics every five minutes over one hour, use <code class="docutils literal notranslate"><span class="pre">increment=5*60,</span> <span class="pre">nIncrement=12</span></code>.</p></li>
</ul>
<p>Usage: Type</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;Agg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.postprocess</span> <span class="kn">import</span> <span class="n">Plotter</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Read data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;TwoRoomsWithStorage.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;roo1.air.vol.T&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create basic plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">=</span><span class="n">Plotter</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="o">-</span><span class="mf">273.15</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">3600</span><span class="p">,</span> <span class="n">nIncrement</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Decorate, save and show the plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time [h]&#39;</span><span class="p">)</span>
<span class="go">Text(0.5, 0, &#39;Time [h]&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;Room temperature [°C]&#39;</span><span class="p">)</span> 
<span class="go">Text(0, 0.5, &#39;Room temperature [°C]&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;roomTemperatures.png&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> 
</pre></div>
</div>
<p>to create a plot as the one shown below.</p>
</div></blockquote>
<a class="reference internal image-reference" href="_images/TwoRoomsWithStorage_T.png"><img alt="_images/TwoRoomsWithStorage_T.png" class="align-center" src="_images/TwoRoomsWithStorage_T.png" style="width: 560px;" /></a>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.postprocess.Plotter.convertToPeriodic">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convertToPeriodic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tPeriod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.postprocess.Plotter.convertToPeriodic" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the data series <code class="docutils literal notranslate"><span class="pre">(t,</span> <span class="pre">y)</span></code> such that <code class="docutils literal notranslate"><span class="pre">t</span></code> is periodic
with periodicity <code class="docutils literal notranslate"><span class="pre">tPeriod</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tPeriod</strong> – Period to which <code class="docutils literal notranslate"><span class="pre">t</span></code> needs to be converted.</p></li>
<li><p><strong>t</strong> – Equally spaced, increasing vector of time, with <code class="docutils literal notranslate"><span class="pre">t[0]=0</span></code>.</p></li>
<li><p><strong>y</strong> – Function values at support points <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Vectors <code class="docutils literal notranslate"><span class="pre">(np.array(tP,</span> <span class="pre">y))</span></code> where <code class="docutils literal notranslate"><span class="pre">tP</span></code> is periodic with period <code class="docutils literal notranslate"><span class="pre">tPeriod</span></code>.</p>
</dd>
</dl>
<p>The vector <code class="docutils literal notranslate"><span class="pre">t</span></code> must start at zero, be equally spaced and increasing.
For example, <code class="docutils literal notranslate"><span class="pre">t</span></code> could be</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">86399</span><span class="p">,</span> <span class="mi">86400</span><span class="p">)</span>
</pre></div>
</div>
<p>if <code class="docutils literal notranslate"><span class="pre">t</span></code> spans one year and the data are hourly (hence, <code class="docutils literal notranslate"><span class="pre">t[0]=0</span></code> and <code class="docutils literal notranslate"><span class="pre">t[-1]=86399</span></code>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.postprocess.Plotter.interpolate">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interpolate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tSup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.postprocess.Plotter.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the values of <code class="docutils literal notranslate"><span class="pre">(t,y)</span></code> at the support points <code class="docutils literal notranslate"><span class="pre">tSup</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tSup</strong> – Support points.</p></li>
<li><p><strong>t</strong> – Time stamps of variables <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p><strong>y</strong> – Function values at time stamps <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Interpolated values of <code class="docutils literal notranslate"><span class="pre">varName</span></code> at <code class="docutils literal notranslate"><span class="pre">tSup</span></code></p>
</dd>
</dl>
<p>Usage: Type</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;Agg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.outputfile</span> <span class="kn">import</span> <span class="n">Reader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buildingspy.io.postprocess</span> <span class="kn">import</span> <span class="n">Plotter</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resultFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;buildingspy&quot;</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">,</span> <span class="s2">&quot;PlotDemo.mat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">=</span><span class="n">Reader</span><span class="p">(</span><span class="n">resultFile</span><span class="p">,</span> <span class="s2">&quot;dymola&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s1">&#39;temSen.T&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tSup</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TInt</span><span class="o">=</span><span class="n">Plotter</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">tSup</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tSup</span><span class="p">,</span> <span class="n">TInt</span><span class="p">)</span> 
<span class="go">[&lt;matplotlib.lines.Line2D object at ...&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> 
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="reporter">
<h2>Reporter<a class="headerlink" href="#reporter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">buildingspy.io.reporter.</span></span><span class="sig-name descname"><span class="pre">Reporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that is used to report errors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter.deleteLogFile">
<span class="sig-name descname"><span class="pre">deleteLogFile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter.deleteLogFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the log file if it exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter.getNumberOfErrors">
<span class="sig-name descname"><span class="pre">getNumberOfErrors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter.getNumberOfErrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of error messages that were written.</p>
<p>:return : The number of error messages that were written.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter.getNumberOfWarnings">
<span class="sig-name descname"><span class="pre">getNumberOfWarnings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter.getNumberOfWarnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of warning messages that were written.</p>
<p>:return : The number of warning messages that were written.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter.logToFile">
<span class="sig-name descname"><span class="pre">logToFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter.logToFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to log the standard output and standard error stream to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>log</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then the standard output stream and the standard error stream will be logged to a file.</p>
</dd>
</dl>
<p>This function can be used to enable and disable writing outputs to
the file ‘’fileName’’.
The default setting is <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter.writeError">
<span class="sig-name descname"><span class="pre">writeError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter.writeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an error message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> – The message to be written.</p>
</dd>
</dl>
<p>Note that this method adds a new line character at the end of the message.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter.writeOutput">
<span class="sig-name descname"><span class="pre">writeOutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter.writeOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a message to the standard output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> – The message to be written.</p>
</dd>
</dl>
<p>Note that this method adds a new line character at the end of the message.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="buildingspy.io.reporter.Reporter.writeWarning">
<span class="sig-name descname"><span class="pre">writeWarning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#buildingspy.io.reporter.Reporter.writeWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a warning message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> – The message to be written.</p>
</dd>
</dl>
<p>Note that this method adds a new line character at the end of the message.</p>
</dd></dl>

</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fmi.html" title="FMI"
             >next</a> |</li>
        <li class="right" >
          <a href="simulate.html" title="Running simulations"
             >previous</a> |</li>
    <li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt;
    <a href="http://simulationresearch.lbl.gov/modelica/buildingspy">BuildingsPy</a></li>
    </br>
<!--    
        <li class="nav-item nav-item-0"><a href="index.html">BuildingsPy documentation</a> &#187;</li> -->

        <li class="nav-item nav-item-this"><a href="">Reading output files, plotting results and reporting simulation output</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2024, The Regents of the University of California (through Lawrence Berkeley National Laboratory), subject to receipt of any required approvals from U.S. Department of Energy.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>