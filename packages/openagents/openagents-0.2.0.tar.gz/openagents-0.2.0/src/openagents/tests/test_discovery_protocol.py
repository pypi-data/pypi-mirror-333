import unittest
from unittest.mock import MagicMock, patch
import uuid

from openagents.protocols.discovery.network_protocol import DiscoveryNetworkProtocol
from openagents.protocols.discovery.agent_protocol import DiscoveryAgentProtocol

# Rest of the file remains the same 