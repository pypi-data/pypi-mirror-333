.. _sim_param_generator_example_sec:

Example of simulation parameter generation
==========================================

Example description
-------------------

In this example, we generate simulation parameters that can be used: to generate
the potential slices for the bilayer :math:`\text{MoS}_2` sample that we defined
in the :ref:`atomic_coord_generator_example_sec` page; to generate the
:math:`S`-matrices of said sample; to simulate a STEM experiment involving said
sample; and to simulate a HRTEM experiment involving said sample.

See the documentation for the class :class:`prismatique.discretization.Params`
for a discussion on potential slices, and the subpackage :mod:`prismatique.stem`
for a discussion on :math:`S`-matrices.

Code
----

Below is the code that generates the aforementioned simulation parameters. You
can also find the same code in the file
``<root>/examples/sim_param_generator/generate.py`` of the repository, where
``<root>`` is the root of the ``prismatique`` repository. To run the script from
the terminal, change into the directory containing said script, and then issue
the following command::

  python generate.py

The output files generated by this script are saved in the directory
``<root>/examples/data/sim_param_generator_output``, where ``<root>`` is the
root of the ``prismatique`` repository. To analyze the output, use the Jupyter
notebook
``<root>/examples/output_data_analysis_notebooks/analyzing_sim_params.ipynb``.

If you would like to modify this script for your own work, it is recommended
that you copy the original script and save it elsewhere outside of the git
repository so that the changes made are not tracked by git.

.. literalinclude:: ../../../examples/sim_param_generator/generate.py