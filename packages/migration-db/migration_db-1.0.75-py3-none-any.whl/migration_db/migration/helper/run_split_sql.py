# !/usr/bin/python3
# -*- coding:utf-8 -*-
"""
@Author: xiaodong.li
@Time: 2/1/2023 3:22 PM
@Description: Description
@File: run_split_sql.py
"""
from migration.core.split_sql.split_sql import generate_study_site_sql_dto

if __name__ == '__main__':
    # f_path = r"C:\Users\LiXiaodong\Desktop\eclinical_edc_prod_90_20230926091918\eclinical_edc_prod_90_20230926091918.sql"
    # host = "localhost"
    # database = "eclinical_edc_prod_58"
    # a = generate_study_site_sql_dto(f_path, "edc")
    # print(a.sql)

    b = 'CREATE TABLE `eclinical_study` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `name` varchar(200) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `phase` int DEFAULT NULL,\n  `type` int DEFAULT NULL,\n  `primary_purpose` int DEFAULT NULL,\n  `expected_site` int DEFAULT NULL,\n  `expected_subject` int DEFAULT NULL,\n  `randomzied` bit(1) DEFAULT b\'0\',\n  `blind_status` int DEFAULT NULL,\n  `creator_dt` datetime DEFAULT NULL,\n  `modify_dt` datetime DEFAULT NULL,\n  `creator_uid` varchar(45) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `modify_uid` varchar(45) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `locale` json DEFAULT NULL,\n  `main_language` varchar(20) COLLATE utf8mb4_general_ci DEFAULT \'en_US\',\n  `locale_list` varchar(300) COLLATE utf8mb4_general_ci DEFAULT \'en_US\',\n  `resolve_days` int DEFAULT NULL,\n  `cra_review` bit(1) DEFAULT b\'0\',\n  `safty_review` bit(1) DEFAULT b\'0\',\n  `date_format` varchar(30) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `time_format` varchar(30) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `item_rule_required` bit(1) DEFAULT b\'0\',\n  `item_float_precision` int DEFAULT NULL,\n  `date_unk_check` varchar(30) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `time_unk_check` varchar(30) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `date_before_now` bit(1) DEFAULT b\'0\',\n  `auto_subject_name` bit(1) NOT NULL DEFAULT b\'1\',\n  `need_initials` bit(1) NOT NULL DEFAULT b\'0\',\n  `enable_register_sub` bit(1) DEFAULT b\'1\',\n  `trigger_value` decimal(5,2) DEFAULT \'100.00\',\n  `subject_code_editable` bit(1) DEFAULT b\'0\',\n  `irt_file_id` int DEFAULT NULL,\n  `register_system` int NOT NULL DEFAULT \'5\',\n  `composition_expression` text COLLATE utf8mb4_general_ci,\n  `dm_review` bit(1) NOT NULL DEFAULT b\'1\',\n  `lab_auto_populate` bit(1) DEFAULT b\'1\',\n  `has_same_visits_per_arm` bit(1) NOT NULL DEFAULT b\'0\',\n  `sae_report_type` tinyint NOT NULL DEFAULT \'1\',\n  `required_tip` text COLLATE utf8mb4_general_ci,\n  `required_tip_checkbox` text COLLATE utf8mb4_general_ci,\n  `randomization_approval_required` bit(1) DEFAULT b\'0\',\n  `randomization_approval_condition` text COLLATE utf8mb4_general_ci,\n  `randomization_approval_condition_active` bit(1) NOT NULL DEFAULT b\'0\',\n  `use_visit_window_status` bit(1) NOT NULL DEFAULT b\'0\' COMMENT \'calculate form summary  using visit window view status in report\',\n  `subject_composition_expression` text COLLATE utf8mb4_general_ci,\n  `screen_id_required` bit(1) DEFAULT b\'0\',\n  `enrolled_phase_id` int DEFAULT NULL,\n  `enable_directly_enroll` bit(1) NOT NULL DEFAULT b\'0\',\n  `screen_subject_code_editable` bit(1) DEFAULT b\'0\',\n  `unk_year` int DEFAULT NULL,\n  `unk_month` int DEFAULT NULL,\n  `unk_day` int DEFAULT NULL,\n  `allow_hardlock_without_sign` bit(1) DEFAULT b\'0\',\n  PRIMARY KEY (`id`)\n) /*!50100 TABLESPACE `innodb_system` */ ENGINE=InnoDB AUTO_INCREMENT=91 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;\nINSERT INTO `eclinical_study` VALUES (90,\'LY06006 MRCT-301\',3,0,1,36,392,_binary \'\x01\',2,\'2022-09-08 12:59:01\',\'2023-04-28 15:34:03\',\'XRZ\',\'MToribio\',NULL,\'en_US\',\'en_US\',5,_binary \'\\0\',_binary \'\\0\',\'DD-MMM-yyyy\',\'HH:mm\',_binary \'\x01\',1,\'Generated EC\',\'Generated EC\',_binary \'\x01\',_binary \'\x01\',_binary \'\\0\',_binary \'\x01\',100.00,_binary \'\x01\',NULL,5,\'[{\\"label\\":\\"SiteCode\\",\\"type\\":\\"SiteCode\\"},{\\"label\\":\\"-\\",\\"type\\":\\"Customize\\"},{\\"label\\":\\"001-999\\",\\"type\\":\\"AutoIncreased\\",\\"length\\":3}]\',_binary \'\x01\',_binary \'\x01\',_binary \'\x01\',1,\'The data is required, please provide.\',\'Please select at least one.\',_binary \'\x01\',NULL,_binary \'\\0\',_binary \'\x01\',NULL,_binary \'\\0\',NULL,_binary \'\\0\',_binary \'\\0\',NULL,NULL,NULL,_binary \'\\0\');\nCREATE TABLE `eclinical_study_site` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `code` varchar(200) COLLATE utf8mb4_general_ci NOT NULL,\n  `expected_enrollment` int DEFAULT NULL,\n  `creator_dt` datetime DEFAULT NULL,\n  `modify_dt` datetime DEFAULT NULL,\n  `creator_uid` varchar(45) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `modify_uid` varchar(45) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `is_delete` bit(1) NOT NULL DEFAULT b\'0\',\n  `time_zone_id` int DEFAULT NULL,\n  `enable_register_sub` bit(1) DEFAULT b\'1\',\n  `trigger_value` int DEFAULT NULL,\n  `daylight_timezone_id` int DEFAULT NULL,\n  `register_sub_modify_reason` varchar(500) COLLATE utf8mb4_general_ci DEFAULT \'\',\n  `request_soft_lock` bit(1) DEFAULT b\'1\',\n  `request_sign` bit(1) DEFAULT b\'1\',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5781 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;\nINSERT INTO `eclinical_study_site` VALUES (5410,\'101\',100,\'2023-02-17 02:44:30\',\'2023-09-26 07:58:53\',\'CTMS SYNC\',\'vladinova\',_binary \'\\0\',14,_binary \'\x01\',100,270,\'Subject registration started\',_binary \'\x01\',_binary \'\x01\'),(5440,\'103\',100,\'2023-02-17 16:44:17\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',14,_binary \'\\0\',100,270,\'Site will be close out.\',_binary \'\x01\',_binary \'\x01\'),(5450,\'104\',100,\'2023-02-17 16:44:51\',\'2023-09-25 10:09:31\',\'CTMS SYNC\',\'dgeorgieva\',_binary \'\\0\',14,_binary \'\x01\',100,270,\'Subject registration started\',_binary \'\x01\',_binary \'\x01\'),(5460,\'105\',100,\'2023-02-17 16:45:14\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',14,_binary \'\x01\',100,270,NULL,_binary \'\x01\',_binary \'\x01\'),(5470,\'201\',100,\'2023-02-17 16:53:19\',\'2023-09-25 10:03:24\',\'CTMS SYNC\',\'jkalodova\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5480,\'202\',100,\'2023-02-17 16:53:57\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5490,\'401\',100,\'2023-02-17 17:02:48\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5500,\'402\',100,\'2023-02-17 17:03:27\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5510,\'403\',100,\'2023-02-17 17:08:18\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5520,\'404\',100,\'2023-02-17 17:11:27\',\'2023-09-25 01:38:59\',\'CTMS SYNC\',\'tshintani\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5530,\'405\',100,\'2023-02-17 17:14:18\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5540,\'406\',100,\'2023-02-17 17:15:14\',\'2023-09-25 01:38:10\',\'CTMS SYNC\',\'tshintani\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5550,\'407\',100,\'2023-02-17 17:19:09\',\'2023-09-26 03:00:42\',\'CTMS SYNC\',\'msasada\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,\'Subject registration started\',_binary \'\x01\',_binary \'\x01\'),(5560,\'408\',100,\'2023-02-17 17:26:31\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,\'Subject registration started\',_binary \'\x01\',_binary \'\x01\'),(5570,\'409\',100,\'2023-02-17 17:27:11\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5580,\'410\',100,\'2023-02-17 17:28:02\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,\'Subject registration started\',_binary \'\x01\',_binary \'\x01\'),(5590,\'411\',100,\'2023-02-17 17:28:50\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',202,_binary \'\x01\',100,NULL,NULL,_binary \'\x01\',_binary \'\x01\'),(5610,\'301\',100,\'2023-02-17 17:30:22\',\'2023-09-26 07:22:41\',\'CTMS SYNC\',\'pwozniak\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5620,\'503\',100,\'2023-02-17 19:12:15\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',32,_binary \'\x01\',100,29,\'Subject registration started\',_binary \'\x01\',_binary \'\x01\'),(5630,\'302\',100,\'2023-02-17 17:31:12\',\'2023-09-25 10:46:24\',\'CTMS SYNC\',\'pczelusniak\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5640,\'303\',100,\'2023-02-17 17:31:57\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5650,\'304\',100,\'2023-02-17 18:53:06\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5660,\'305\',100,\'2023-02-17 18:53:35\',\'2023-09-25 10:36:40\',\'CTMS SYNC\',\'amarcinkowska\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5670,\'502\',100,\'2023-02-17 19:10:54\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',9,_binary \'\x01\',100,6,NULL,_binary \'\x01\',_binary \'\x01\'),(5680,\'306\',100,\'2023-02-17 18:54:15\',\'2023-09-25 06:29:03\',\'CTMS SYNC\',\'jwysinska\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5690,\'501\',100,\'2023-02-17 19:09:44\',\'2023-07-20 11:28:28\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',17,_binary \'\x01\',100,12,NULL,_binary \'\x01\',_binary \'\x01\'),(5700,\'307\',100,\'2023-02-17 18:55:20\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5710,\'308\',100,\'2023-02-17 18:55:46\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5720,\'309\',100,\'2023-02-17 18:56:28\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5730,\'310\',100,\'2023-02-17 18:57:00\',\'2023-09-26 08:23:17\',\'CTMS SYNC\',\'kmalewicz\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5740,\'311\',100,\'2023-02-17 18:57:52\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5750,\'312\',100,\'2023-02-17 18:58:41\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5760,\'313\',100,\'2023-02-17 18:59:26\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5770,\'314\',100,\'2023-02-17 19:01:38\',\'2023-09-26 07:50:09\',\'CTMS SYNC\',\'kgiezek\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\'),(5780,\'315\',100,\'2023-02-17 19:02:17\',\'2023-09-18 16:00:56\',\'CTMS SYNC\',\'LERubio\',_binary \'\\0\',8,_binary \'\x01\',100,7,NULL,_binary \'\x01\',_binary \'\x01\');\n'
    print(b.replace("\\n", ""))