import{d as R,bP as C,i as t,aR as V,aS as B,f as b,q as T,o as a,n as D,l as n,p as e,bQ as N,aW as W,g as E,W as P,u as U,al as $,h as j,bu as q,bR as z,j as F,c as i,k as o,a as d,a6 as M,bz as O,bS as Q,bT as Z,bU as A,be as G}from"./index-Cixz26l0.js";import{s as H}from"./index-B4HswuBc.js";import{u as J}from"./usePageTitle-BPkBun_K.js";const K={class:"flow-stats"},L={class:"flow-stats__cards"},X=R({__name:"FlowStats",props:{flowId:{}},setup(w){const f=w,r={range:{type:"span",seconds:-604800}},{flowId:u}=C(f),c=t(()=>({flowId:u.value,range:r.range}));V(B,{interval:H(30)});const l=t(()=>b.map("FlowStatsFilter",c.value,"FlowRunsFilter")),p=t(()=>b.map("FlowStatsFilter",c.value,"TaskRunsFilter"));return(_,m)=>(a(),T("div",K,[D("div",L,[n(e(N),{filter:l.value},null,8,["filter"]),n(e(W),{filter:p.value},null,8,["filter"])])]))}}),le=R({__name:"Flow",setup(w){const f=E(),r=P("flowId"),u=t(()=>[r.value]),c=U(),l=$("tab","Runs"),p=["Runs","Deployments","Details"],_={interval:3e5},m=j(f.flows.getFlow,[r.value],_),s=t(()=>m.response),{filter:y}=q({flows:{id:u}}),{filter:k}=z({flows:{id:u}});function g(){c.push(G.flows())}const x=t(()=>s.value?`Flow: ${s.value.name}`:"Flow");return J(x),(Y,v)=>{const I=F("p-tabs"),S=F("p-layout-default");return a(),i(S,{class:"flow"},{header:o(()=>[s.value?(a(),i(e(A),{key:0,flow:s.value,onDelete:g},null,8,["flow"])):d("",!0)]),default:o(()=>[s.value?(a(),i(X,{key:0,"flow-id":s.value.id},null,8,["flow-id"])):d("",!0),n(I,{selected:e(l),"onUpdate:selected":v[0]||(v[0]=h=>M(l)?l.value=h:null),tabs:p},{details:o(()=>[s.value?(a(),i(e(Z),{key:0,flow:s.value},null,8,["flow"])):d("",!0)]),deployments:o(()=>[n(e(Q),{filter:e(k),prefix:"deployments"},null,8,["filter"])]),runs:o(()=>[n(e(O),{filter:e(y),selectable:"",prefix:"runs"},null,8,["filter"])]),_:1},8,["selected"])]),_:1})}}});export{le as default};
//# sourceMappingURL=Flow-Cr3Klw3d.js.map
