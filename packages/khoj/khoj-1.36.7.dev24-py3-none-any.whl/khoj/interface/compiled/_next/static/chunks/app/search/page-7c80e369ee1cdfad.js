(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{94114:function(e,s,t){Promise.resolve().then(t.bind(t,98537))},98537:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return el}});var l=t(57437),a=t(95186),n=t(2265),i=t(41816),r=t.n(i),c=t(19378),o=t(66070),d=t(73925),u=t(75216),h=t(91521),x=t(41648),m=t(41317),f=t(19841),j=t(45178),p=t(58619),N=t(2452),g=t(77168),v=t(87296),w=t(89203),b=t(11167),y=t(38513),S=t(35099),E=t(64697),T=t(74915),k=t(62869),C=t(27648),_=t(7436),D=t(60729),F=t(34124),I=t(6512),A=t(37104),O=t(14308),L=t(26110),R=t(77992),z=t(84190),M=t(92451),P=t(10407),Z=t(67782),W=t(94508);let U=e=>{let{className:s,...t}=e;return(0,l.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,W.cn)("mx-auto flex w-full justify-center",s),...t})};U.displayName="Pagination";let Y=n.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("ul",{ref:s,className:(0,W.cn)("flex flex-row items-center gap-1",t),...a})});Y.displayName="PaginationContent";let K=n.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("li",{ref:s,className:(0,W.cn)("",t),...a})});K.displayName="PaginationItem";let B=e=>{let{className:s,isActive:t,size:a="icon",...n}=e;return(0,l.jsx)("a",{"aria-current":t?"page":void 0,className:(0,W.cn)((0,k.d)({variant:t?"outline":"ghost",size:a}),"no-underline",s),...n})};B.displayName="PaginationLink";let V=e=>{let{className:s,...t}=e;return(0,l.jsxs)(B,{"aria-label":"Go to previous page",size:"default",className:(0,W.cn)("gap-1 pl-2.5",s),...t,children:[(0,l.jsx)(M.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Previous"})]})};V.displayName="PaginationPrevious";let G=e=>{let{className:s,...t}=e;return(0,l.jsxs)(B,{"aria-label":"Go to next page",size:"default",className:(0,W.cn)("gap-1 pr-2.5",s),...t,children:[(0,l.jsx)("span",{children:"Next"}),(0,l.jsx)(P.Z,{className:"h-4 w-4"})]})};G.displayName="PaginationNext";let X=e=>{let{className:s,...t}=e;return(0,l.jsxs)("span",{"aria-hidden":!0,className:(0,W.cn)("flex h-9 w-9 items-center justify-center",s),...t,children:[(0,l.jsx)(Z.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"More pages"})]})};X.displayName="PaginationEllipsis";var $=t(23518),q=t(57054),J=t(59199),H=t(32759);function Q(e){let{file:s,setSelectedFile:t,setSelectedFileFullText:a,handleDownload:n,handleDelete:i,isDeleting:r,selectedFileFullText:d}=e;return(0,l.jsxs)(o.Zb,{className:"animate-fade-in-up bg-secondary h-52",children:[(0,l.jsx)(o.Ol,{className:"p-2",children:(0,l.jsxs)(o.ll,{className:"flex items-center gap-2 justify-between",title:s.file_name,children:[(0,l.jsxs)(L.Vq,{children:[(0,l.jsx)(L.hg,{asChild:!0,children:(0,l.jsx)("div",{className:"text-sm font-medium truncate hover:text-clip hover:whitespace-normal cursor-pointer",onClick:()=>{a(""),t(s.file_name)},children:s.file_name.split("/").pop()})}),(0,l.jsxs)(L.cZ,{className:"max-w-fit",children:[(0,l.jsx)(L.fK,{children:(0,l.jsx)(L.$N,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[s.file_name.split("/").pop(),(0,l.jsx)(k.z,{variant:"ghost",title:"Download as plaintext",onClick:()=>n(s.file_name,s.raw_text),children:(0,l.jsx)(x.U,{className:"h-4 w-4"})})]})})}),(0,l.jsx)(c.x,{className:"h-[50vh] w-[80vw]",children:(0,l.jsxs)("p",{className:"whitespace-pre-wrap break-words text-sm font-normal word-wrap",children:[!d&&(0,l.jsx)(O.l,{className:"mt-4",message:"Loading",iconClassName:"h-5 w-5"}),d]})})]})]}),(0,l.jsxs)(z.h_,{children:[(0,l.jsx)(z.$F,{children:(0,l.jsx)(k.z,{variant:"ghost",children:(0,l.jsx)(m.F,{className:"h-4 w-4"})})}),(0,l.jsx)(z.AW,{className:"flex flex-col gap-0 w-fit",children:(0,l.jsx)(z.Xi,{className:"p-0",children:(0,l.jsxs)(k.z,{variant:"ghost",className:"flex items-center gap-2 p-1 text-sm",onClick:()=>{i(s.file_name)},children:[(0,l.jsx)(f.r,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"text-xs",children:r?"Deleting...":"Delete"})]})})})]})]})}),(0,l.jsx)(o.aY,{className:"p-2",children:(0,l.jsx)(c.x,{className:"h-24 bg-background rounded-lg",children:(0,l.jsxs)("p",{className:"whitespace-pre-wrap break-words text-sm font-normal text-muted-foreground p-2 h-full",children:[s.raw_text.slice(0,100),"..."]})})}),(0,l.jsx)(o.eW,{className:"flex justify-end gap-2 p-2",children:(0,l.jsx)("div",{className:"text-muted-foreground text-xs",children:(0,_.o0)(s.updated_at)})})]})}function ee(e){var s;let t=e.note,a=(t.additional.file||"").startsWith("http"),n=a?t.additional.heading:t.additional.file.split("/").pop();return(0,l.jsxs)(o.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg border border-muted mb-4 animate-fade-in-up",children:[(0,l.jsx)(o.Ol,{children:(0,l.jsxs)(o.ll,{className:"inline-flex gap-2",children:["notion"===(s=t.additional.source)?(0,l.jsx)(d.F,{className:"text-muted-foreground"}):"github"===s?(0,l.jsx)(u.b,{className:"text-muted-foreground"}):(0,l.jsx)(h.S,{className:"text-muted-foreground"}),n]})}),(0,l.jsxs)(o.aY,{children:[(0,l.jsx)("div",{className:"line-clamp-4 text-muted-foreground",children:t.entry}),(0,l.jsxs)(k.z,{onClick:()=>e.setFocusSearchResult(t),variant:"ghost",className:"p-0 mt-2 text-orange-400 hover:bg-inherit",children:["See content",(0,l.jsx)(j.o,{className:"inline ml-2"})]})]}),a&&(0,l.jsx)(o.eW,{children:(0,l.jsxs)("a",{href:t.additional.file,target:"_blank",className:"underline text-sm bg-muted p-1 rounded-lg text-muted-foreground",children:[(0,l.jsx)(p.a,{className:"inline m-2"}),t.additional.file]})})]})}let es=e=>{let{setUploadedFiles:s}=e,[t,a]=(0,n.useState)(!1),[i,r]=(0,n.useState)(null),[c,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[h,x]=(0,n.useState)(0),m=(0,n.useRef)(null);function f(e){(0,J.ko)(e,r,u,o,s)}return(0,n.useEffect)(()=>{if(!d&&(x(0),!i&&!c)){let e=new KeyboardEvent("keydown",{key:"Escape"});document.dispatchEvent(e)}if(d){let e=setInterval(()=>{x(e=>{let s=e+(Math.floor(5*Math.random())+1);return s<100?s:100})},800);return()=>clearInterval(e)}},[d]),(0,l.jsxs)(L.Vq,{children:[(0,l.jsx)(L.hg,{asChild:!0,children:(0,l.jsxs)(k.z,{variant:"secondary",className:"mt-4",children:[(0,l.jsx)(N.a,{className:"h-4 w-4 mr-2"}),"Add Documents"]})}),(0,l.jsxs)(L.cZ,{children:[(0,l.jsxs)(L.fK,{children:[(0,l.jsx)(L.$N,{children:"Build Your Knowledge Base"}),(0,l.jsx)(L.Be,{children:"Add context for your Khoj knowledge base. Quickly search and get personalized answers from your documents."})]}),(0,l.jsxs)("div",{className:"flex flex-col h-full",onDragOver:function(e){e.preventDefault(),a(!0)},onDragLeave:function(e){e.preventDefault(),a(!1)},onDrop:function(e){e.preventDefault(),a(!1),e.dataTransfer.files&&f(e.dataTransfer.files)},onClick:function(){m&&m.current&&m.current.click()},children:[(0,l.jsx)("input",{type:"file",multiple:!0,ref:m,style:{display:"none"},onChange:function(e){e.target.files&&f(e.target.files)}}),(0,l.jsx)("div",{className:"flex-none p-4",children:d&&(0,l.jsx)(H.E,{indicatorColor:"bg-slate-500",className:"w-full h-2 rounded-full",value:h})}),i&&(0,l.jsxs)("div",{className:"flex-none p-4 border-b rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(g.v,{className:"h-6 w-6"}),(0,l.jsx)("span",{children:i})]}),(0,l.jsx)(k.z,{onClick:()=>r(null),className:"mt-2",variant:"ghost",children:"Dismiss"})]}),c&&(0,l.jsxs)("div",{className:"flex-none p-4 border-b rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(g.v,{className:"h-6 w-6"}),(0,l.jsx)("span",{children:c})]}),(0,l.jsx)(k.z,{onClick:()=>o(null),className:"mt-2",variant:"ghost",children:"Dismiss"})]}),(0,l.jsx)("div",{className:"flex-none p-4 border-b ".concat(t?"animate-pulse border-blue-500 bg-blue-500 bg-opacity-25":"bg-secondary"," rounded-lg"),children:(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg",children:t?(0,l.jsxs)("div",{className:"flex items-center justify-center w-full h-full",children:[(0,l.jsx)(v.u,{className:"h-6 w-6 mr-2"}),(0,l.jsx)("span",{children:"Drop files to upload"})]}):(0,l.jsxs)("div",{className:"flex items-center justify-center w-full h-full",children:[(0,l.jsx)(w.v,{className:"h-6 w-6 mr-2"}),(0,l.jsx)("span",{children:"Drag and drop files here"})]})})})]})]})]})};function et(e){let[s,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(e.inputText||""),[r,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)("");return(0,n.useEffect)(()=>{e.inputText?"INITIALIZE"===e.inputText?(t(!0),d("")):(d(e.inputText),e.allFiles.includes(e.inputText)&&i(e.inputText)):d("")},[e.inputText]),(0,n.useEffect)(()=>{o&&!e.allFiles.includes(o)?(c(!0),i("")):o?(c(!1),i(o)):(c(!1),i(""))},[o,e.allFiles]),(0,n.useEffect)(()=>{s||e.onClose()},[s]),(0,l.jsxs)(q.J2,{open:s||r&&!!o,onOpenChange:t,children:[(0,l.jsx)(q.xo,{asChild:!0,children:(0,l.jsxs)(k.z,{variant:"outline",role:"combobox","aria-expanded":s,className:'justify-between" '.concat(e.isMobileWidth?"w-full":"w-[200px]"),children:[a?e.isMobileWidth?"✔️":"Selected":e.isMobileWidth?" ":"Select file",(0,l.jsx)(b.o,{className:"opacity-50"})]})}),(0,l.jsx)(q.yk,{className:"w-[200px] p-0",children:(0,l.jsxs)($.mY,{children:[(0,l.jsx)($.sZ,{placeholder:"Search files...",value:o,onInput:e=>d(e.currentTarget.value)}),(0,l.jsxs)($.e8,{children:[(0,l.jsx)($.rb,{children:"No files found."}),(0,l.jsx)($.fu,{children:e.allFiles.map(s=>(0,l.jsxs)($.di,{value:s,onSelect:s=>{i(s===a?"":s),t(!1),e.onChooseFile(s)},children:[s,(0,l.jsx)(y.J,{className:(0,W.cn)("ml-auto",a===s?"opacity-100":"opacity-0")})]},s))})]})]})})]})}function el(){let[e,s]=(0,n.useState)(""),[t,i]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),h=(0,n.useRef)(null),[x,m]=(0,n.useState)(null),[f,j]=(0,n.useState)([]),[N,g]=(0,n.useState)(null),[v,w]=(0,n.useState)(!0),[b,y]=(0,n.useState)([]),L=(0,n.useRef)(null),[z,M]=(0,n.useState)(null),[P,Z]=(0,n.useState)(void 0),[W,$]=(0,n.useState)(null),[q,J]=(0,n.useState)(!1),[H,el]=(0,n.useState)([]),[ea,en]=(0,n.useState)(0),[ei,er]=(0,n.useState)(1),{toast:ec}=(0,R.pm)(),eo=(0,_.IC)();function ed(e){if(s(e),!e.trim()){i(null);return}L.current&&clearTimeout(L.current),e.trim()&&(L.current=setTimeout(()=>{eu()},750))}function eu(){!d&&e.trim()&&(u(!0),fetch("/api/search?q=".concat(encodeURIComponent(e),"&client=web"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{i(e),u(!1)}).catch(e=>{console.error("Error:",e)}))}(0,n.useEffect)(()=>{fetch("/api/content/computer",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{y(e)}).catch(e=>{console.error("Error loading files:",e)})},[]),(0,n.useEffect)(()=>{let s=e.match(/file:([^"\s]*|"[^"]*")?/);if(s){let e=s[1],t=null==e?void 0:e.replace(/"/g,"");t?Z(t):Z("INITIALIZE")}},[e]);let eh=async e=>{try{let s=await fetch("api/content/files?page=".concat(e));if(!s.ok)throw Error("Failed to fetch files");let t=await s.json(),l=t.files,a=t.num_pages;er(a),Array.isArray(l)&&j(l.toSorted())}catch(e){g("Failed to load files"),console.error("Error fetching files:",e)}finally{w(!1)}};(0,n.useEffect)(()=>{eh(ea)},[ea]);let ex=async e=>{try{let s=await fetch("/api/content/file?file_name=".concat(e));if(!s.ok)throw Error("Failed to fetch file");let t=await s.json();$(t.raw_text)}catch(e){g("Failed to load file"),console.error("Error fetching file:",e)}},em=(e,s)=>{let t=new Blob([s],{type:"text/plain"}),l=window.URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download="".concat(e.split("/").pop(),".txt"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)};(0,n.useEffect)(()=>{z&&ex(z)},[z]),(0,n.useEffect)(()=>{eh(ea)},[]),(0,n.useEffect)(()=>{H.length>0&&(en(0),eh(0))},[H]);let ef=async e=>{J(!0);try{if(!(await fetch("/api/content/file?filename=".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete file");ec({title:"File deleted",description:"File ".concat(e," has been deleted"),variant:"default"}),eh(ea)}catch(s){ec({title:"Error deleting file",description:"Failed to delete file ".concat(e),variant:"destructive"})}finally{J(!1)}};return(0,l.jsxs)(D.Hn,{children:[(0,l.jsx)(F.S,{conversationId:""}),(0,l.jsxs)(D.kV,{children:[(0,l.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,l.jsx)(D.vP,{className:"-ml-1"}),(0,l.jsx)(I.Z,{orientation:"vertical",className:"mr-2 h-4"}),eo?(0,l.jsx)("a",{className:"p-0 no-underline",href:"/",children:(0,l.jsx)(A.VO,{className:"h-auto w-16"})}):(0,l.jsx)("h2",{className:"text-lg",children:"Search Your Knowledge Base"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"".concat(r().searchLayout),children:(0,l.jsx)("div",{className:"w-full md:w-5/6 mx-auto pt-6 md:pt-8",children:(0,l.jsxs)("div",{className:"p-4 w-full mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center border-2 border-muted p-1 gap-1 rounded-lg flex-col md:flex-row",children:[(0,l.jsx)("div",{className:"relative flex-1 w-full",children:(0,l.jsx)(a.I,{autoFocus:!0,className:"border-none pl-4 focus-visible:ring-transparent focus-visible:ring-offset-transparent",onChange:e=>ed(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&eu()},ref:h,type:"search",placeholder:"Search Documents",value:e})}),(0,l.jsxs)("div",{id:"actions",className:"flex gap-2",children:[(0,l.jsx)(et,{allFiles:b,onChooseFile:t=>(function(t){var l;let a=e.replace(/file:([^"\s]*|"[^"]*")?/i,"").trim();s('file:"'.concat(t,'" ').concat(a)),null===(l=h.current)||void 0===l||l.focus(),eu()})(t),isMobileWidth:eo,inputText:P,onClose:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.focus()}}),(0,l.jsxs)(k.z,{className:"px-2 gap-2 inline-flex rounded-none items-center border-l border-gray-300 hover:text-gray-500",variant:"ghost",onClick:()=>eu(),children:[(0,l.jsx)(S.Y,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Find"})]})]})]}),null===t&&(0,l.jsx)(es,{setUploadedFiles:el}),d&&(0,l.jsx)("div",{className:"mt-4 flex items-center justify-center",children:(0,l.jsx)(O.l,{className:"mt-4",message:"Searching",iconClassName:"h-5 w-5"})}),x&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)(k.z,{onClick:()=>m(null),className:"mb-4",variant:"outline",children:[(0,l.jsx)(E.X,{className:"inline mr-2"}),"Back"]}),function(e){let s=(e.additional.file||"").startsWith("http"),t=s?e.additional.heading:e.additional.file.split("/").pop();return(0,l.jsxs)(o.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg border border-muted mb-4 animate-fade-in-up",children:[(0,l.jsx)(o.Ol,{children:(0,l.jsx)(o.ll,{children:t})}),s&&(0,l.jsx)(o.eW,{children:(0,l.jsxs)("a",{href:e.additional.file,target:"_blank",className:"underline text-sm bg-muted p-3 rounded-lg text-muted-foreground flex items-center gap-2",children:[(0,l.jsx)(p.a,{className:"inline"}),e.additional.file]})}),(0,l.jsx)(o.aY,{children:(0,l.jsx)("div",{className:"text-m",children:e.entry})})]})}(x)]}),!x&&!d&&t&&t.length>0&&(0,l.jsxs)("div",{className:"mt-4 max-w-[92vw] break-all",children:[(0,l.jsxs)(k.z,{onClick:()=>ed(""),className:"mb-4",variant:"outline",children:[(0,l.jsx)(E.X,{className:"inline mr-2"}),"See All"]}),(0,l.jsx)(c.x,{className:"h-[80vh]",children:t.map((e,s)=>(0,l.jsx)(ee,{note:e,setFocusSearchResult:m},e["corpus-id"]))})]}),!d&&null===t&&!e.trim()&&(0,l.jsxs)("div",{className:"w-full mt-4",children:[v&&(0,l.jsx)("div",{className:"mt-4 flex items-center justify-center",children:(0,l.jsx)(O.l,{className:"mt-4",message:"Loading",iconClassName:"h-5 w-5"})}),N&&(0,l.jsx)("div",{className:"text-red-500",children:N}),!t&&!v&&0===f.length&&(0,l.jsxs)(o.Zb,{className:"flex flex-col items-center justify-center border-none shadow-none",children:[(0,l.jsxs)(o.Ol,{className:"flex flex-col items-center justify-center",children:[(0,l.jsx)(o.SZ,{className:"border-muted-foreground border w-fit rounded-lg mb-2 text-center text-lg p-4",children:(0,l.jsx)(T.D,{weight:"fill",className:"text-muted-foreground h-10 w-10"})}),(0,l.jsx)(o.ll,{className:"text-center",children:"Let's get started!"})]}),(0,l.jsxs)(o.aY,{children:[(0,l.jsx)("div",{className:"text-muted-foreground items-center justify-center text-center flex",children:'To use search, upload docs via the "Add Documents" button.'}),(0,l.jsx)(C.default,{href:"https://docs.khoj.dev/data-sources/share_your_data",className:"no-underline",children:(0,l.jsx)("div",{className:"mt-4 text-center text-secondary-foreground bg-secondary w-fit m-auto p-2 rounded-lg",children:"Learn More"})})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((e,s)=>(0,l.jsx)(Q,{file:e,index:s,setSelectedFile:M,setSelectedFileFullText:$,handleDownload:em,handleDelete:ef,isDeleting:q,selectedFileFullText:W},s))}),(0,l.jsx)(U,{children:(0,l.jsxs)(Y,{className:"p-0",children:[ea>0&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(V,{onClick:()=>en(ea-1)})}),ea>1&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(B,{onClick:()=>en(0),children:"1"})}),ea>2&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(X,{})}),ea>0&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(B,{onClick:()=>en(ea-1),children:ea})}),(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(B,{isActive:!0,children:ea+1})}),ea<ei-1&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(B,{onClick:()=>en(ea+1),children:ea+2})}),ea<ei-3&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(X,{})}),ea<ei-2&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(B,{onClick:()=>en(ei-1),children:ei})}),ea<ei-1&&(0,l.jsx)(K,{className:"list-none",children:(0,l.jsx)(G,{onClick:()=>en(ea+1)})})]})})]})]})})})})]})]})}},32759:function(e,s,t){"use strict";t.d(s,{E:function(){return r}});var l=t(57437),a=t(2265),n=t(60610),i=t(94508);let r=a.forwardRef((e,s)=>{let{className:t,value:a,indicatorColor:r,...c}=e;return(0,l.jsx)(n.fC,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...c,children:(0,l.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all ".concat(r),style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});r.displayName=n.fC.displayName},77992:function(e,s,t){"use strict";t.d(s,{pm:function(){return h}});var l=t(2265);let a=0,n=new Map,i=e=>{if(n.has(e))return;let s=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,s)},r=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],o={toasts:[]};function d(e){o=r(o,e),c.forEach(e=>{e(o)})}function u(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),l=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||l()}}}),{id:t,dismiss:l,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function h(){let[e,s]=l.useState(o);return l.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},41816:function(e){e.exports={searchLayout:"search_searchLayout__fP3m0"}}},function(e){e.O(0,[2026,1607,3861,9259,8667,4363,6244,2509,2327,2971,2117,1744],function(){return e(e.s=94114)}),_N_E=e.O()}]);