Metadata-Version: 2.3
Name: mergeron
Version: 2025.739319.2
Summary: Analyze merger enforcement policy using Python
License: MIT
Keywords: merger policy analysis,merger guidelines,merger screening,policy presumptions,concentration standards,upward pricing pressure,GUPPI
Author: Murthy Kambhampaty
Author-email: smk@capeconomics.com
Requires-Python: >=3.12,<4.0
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Console
Classifier: Intended Audience :: End Users/Desktop
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: Implementation :: CPython
Requires-Dist: aenum (>=3.1.15,<4.0.0)
Requires-Dist: attrs (>=23.2)
Requires-Dist: bs4 (>=0.0.1)
Requires-Dist: certifi (>=2023.11.17)
Requires-Dist: h5py (>=3.13.0,<4.0.0)
Requires-Dist: jinja2 (>=3.1)
Requires-Dist: joblib (>=1.3)
Requires-Dist: matplotlib (>=3.8)
Requires-Dist: mpmath (>=1.3)
Requires-Dist: msgpack (>=1.0)
Requires-Dist: msgpack-numpy (>=0.4)
Requires-Dist: ruamel-yaml (>=0.18.10,<0.19.0)
Requires-Dist: scipy (>=1.12)
Requires-Dist: sympy (>=1.12)
Requires-Dist: types-beautifulsoup4 (>=4.11.2)
Requires-Dist: urllib3 (>=2.2.2,<3.0.0)
Requires-Dist: xlrd (>=2.0.1,<3.0.0)
Requires-Dist: xlsxwriter (>=3.1)
Description-Content-Type: text/x-rst

mergeron: Merger Policy Analysis with Python
============================================

Usage
-----

*Visualizing Guidelines boundaries*

.. code:: python

    %matplotlib inline
    from mergeron.core import guidelines_boundaries as gbl
    from mergeron.core import guidelines_boundary_functions as gbf
    from math import sqrt

    delta_bound = 0.01
    conc_boundary = gbl.ConcentrationBoundary(delta_bound, "ΔHHI")
    share_boundary = gbl.ConcentrationBoundary(2 * sqrt(delta_bound / 2), "Combined share")

    divr_boundary_a = gbl.DiversionRatioBoundary(
        gbl.guppi_from_delta(delta_bound, m_star=1.0, r_bar=0.85),
        agg_method=gbl.UPPAggrSelector.AVG
    )

    divr_boundary_i = gbl.DiversionRatioBoundary(
        gbl.guppi_from_delta(delta_bound, m_star=1.0, r_bar=0.85),
        agg_method=gbl.UPPAggrSelector.MIN
    )

    divr_boundary_x = gbl.DiversionRatioBoundary(
        gbl.guppi_from_delta(delta_bound, m_star=1.0, r_bar=0.85),
        agg_method=gbl.UPPAggrSelector.MAX
    )


Plots are written to PDF, typically, with ``backend="pgf"`` as the
default backend in the function, ``gbf.boundary_plot``. Here, we set the
backend to ``None`` to skip fine-tuning plots for PDF generation.

.. code:: python

    plt, fig, ax, layout_axis = gbf.boundary_plot(backend=None)

    ax.set_title("Concentration and Diversion Ratio Boundaries")

    ax.plot(conc_boundary.coordinates[:, 0], conc_boundary.coordinates[:, 1], color="black", linestyle="-", label="ΔHHI")
    ax.plot(share_boundary.coordinates[:, 0], share_boundary.coordinates[:, 1], color="black", linestyle=":", label="Combined share")
    ax.plot(divr_boundary_a.coordinates[:, 0], divr_boundary_a.coordinates[:, 1], "b-", label="Average Diversion Ratio")
    ax.plot(divr_boundary_i.coordinates[:, 0], divr_boundary_i.coordinates[:, 1], "r-", label="Minimum Diversion Ratio")
    ax.plot(divr_boundary_x.coordinates[:, 0], divr_boundary_x.coordinates[:, 1], "g-", label="Maximum Diversion Ratio")

    _ = fig.legend(loc=(0.4, 0.7), frameon=False)


*Analyzing FTC Merger Investigations Data*

.. code:: python

    from mergeron.core import ftc_merger_investigations_data as fid
    import tabulate

    inv_data = fid.construct_data(fid.INVDATA_ARCHIVE_PATH)


We can now analyze counts of markets reported in the source data, by
table number. Note that odd-numbered tables report FTC investigations
data organized by HHI and ΔHHI, while even-numbered tables report by
firm-count.

.. code:: python

    from mergeron.gen import enforcement_stats as esl

    print("Enforcement Rates in Markets with Entry Barriers, 1996-2003 vs 2004-2011")
    print()
    counts_by_delta_1 = esl.enf_cnts_bydelta(
        inv_data["1996-2003"]["ByHHIandDelta"]["Table 9.2"].data_array
    )
    counts_by_delta_2 = esl.enf_cnts_bydelta(
        inv_data["2004-2011"]["ByHHIandDelta"]["Table 9.2"].data_array
    )
    observed_enforcement_rates = list(zip(
        (
            {_v: _k for _k, _v in fid.CONC_DELTA_DICT.items()}[i]
            for i in counts_by_delta_1[:, 0]
        ),
        (
            f"{_a[1] / _a[-1]: <12.2%}" if _a[-1] else "--"
            for _a in counts_by_delta_1
        ),
        (
            f"{_e[1] / _e[-1]: <12.2%}" if _e[-1] else "--"
            for _e in counts_by_delta_2
        ),
    ))

    observed_enforcement_rates.append([
        "Total",
        f"{counts_by_delta_1[:, 1].sum() / counts_by_delta_1[:, -1].sum(): <12.2%}",
        f"{counts_by_delta_2[:, 1].sum() / counts_by_delta_2[:, -1].sum(): <12.2%}",
    ])

    print(tabulate.tabulate(
        observed_enforcement_rates,
        tablefmt="simple",
        headers=("ΔHHI", "1996-2003", "2004-2011"),
        stralign="center",
        maxcolwidths=36,
        maxheadercolwidths=36,
    ))


.. parsed-literal::

    Enforcement Rates in Markets with Entry Barriers, 1996-2003 vs 2004-2011

        ΔHHI        1996-2003    2004-2011
    -------------  -----------  -----------
       0 - 100         --         100.00%
      100 - 200      33.33%       50.00%
      200 - 300      33.33%       50.00%
      300 - 500      75.00%       77.78%
      500 - 800      59.09%       54.55%
     800 - 1,200     93.33%       81.82%
    1,200 - 2,500    90.91%       84.38%
       2,500 +       96.00%       100.00%
        Total        81.65%       82.86%


Generating synthetic market data and analyzing enforcement rates



