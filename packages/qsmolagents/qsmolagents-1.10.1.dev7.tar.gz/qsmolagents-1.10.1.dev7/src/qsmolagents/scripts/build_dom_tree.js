"use strict";(()=>{function O(){function D(n=!0,g){window.clickable_elements={};let w=V(n),u=I(w),d=B(u);return{element_str:S(u,g),selector_map:d}}function F(n){return window.clickable_elements[n]}function L(){let n=document.getElementById("playwright-highlight-container");n&&n.remove()}function S(n,g){g||(g=["id","title","type","name","role","tabindex","aria-label","placeholder","value","alt","aria-expanded"]);function w(s){let y=[];function f(c){if(!(c.tagName&&c!=s&&c.highlightIndex!=null)){if(!c.tagName&&c.text)y.push(c.text);else if(c.tagName)for(let t=0;t<c.children.length;t++)f(c.children[t])}}return f(s),y.join(`
`).trim().replace(/\n+/g," ")}function u(s){let y=s.parent;for(;y;){if(y.highlightIndex!=null)return!0;y=y.parent}return!1}let d=[];function E(s,y){if(s.text==null){if(s.highlightIndex!=null){let f="";if(g){for(let t=0;t<g.length;t++){let l=g[t],i=s.attributes[l];l&&i&&(f+=` ${l}="${i}"`)}f=f.replace(/\n+/g," ")}let c=w(s);d.push(`[${s.highlightIndex}]:<${s.tagName}${f}>${c}</${s.tagName}>`)}for(let f=0;f<s.children.length;f++){let c=s.children[f];E(c,y+1)}}else u(s)||d.push(`[]:${s.text}`)}return E(n,0),d.join(`
`)}function B(n){let g={};function w(u){if(u.tagName){u.highlightIndex!=null&&(g[u.highlightIndex]=u);for(let d=0;d<u.children.length;d++)w(u.children[d])}}return w(n),g}function I(n,g){if(!n)return;if(n.type=="TEXT_NODE")return{text:n.text||"",isVisible:n.isVisible||!1,parent:g};let w={tagName:n.tagName,xpath:n.xpath,highlightIndex:n.highlightIndex,attributes:n.attributes||{},isVisible:n.isVisible||!1,isInteractive:n.isInteractive||!1,isTopElement:n.isTopElement||!1,shadowRoot:n.shadowRoot||!1,children:[],parent:g};if(n.children){let u=[];for(let d=0;d<n.children.length;d++){let E=n.children[d];if(E){let s=I(E,w);s&&u.push(s)}}w.children=u}return w}function V(n){let g=0;function w(t,l,i=null){let e=document.getElementById("playwright-highlight-container");e||(e=document.createElement("div"),e.id="playwright-highlight-container",e.style.position="fixed",e.style.pointerEvents="none",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="2147483647",document.documentElement.appendChild(e));let o=["#FF0000","#00FF00","#0000FF","#FFA500","#800080","#008080","#FF69B4","#4B0082","#FF4500","#2E8B57","#DC143C","#4682B4"],r=l%o.length,h=o[r],N=`${h}1A`,a=document.createElement("div");a.style.position="absolute",a.style.border=`2px solid ${h}`,a.style.pointerEvents="none",a.style.boxSizing="border-box";let p=t.getBoundingClientRect(),_=p.top,b=p.left;if((p.width<window.innerWidth/2||p.height<window.innerHeight/2)&&(a.style.backgroundColor=N),i){let v=i.getBoundingClientRect();_+=v.top,b+=v.left}a.style.top=`${_}px`,a.style.left=`${b}px`,a.style.width=`${p.width}px`,a.style.height=`${p.height}px`;let m=document.createElement("div");m.className="playwright-highlight-label",m.style.position="absolute",m.style.background=h,m.style.color="white",m.style.padding="1px 4px",m.style.borderRadius="4px",m.style.fontSize=`${Math.min(12,Math.max(8,p.height/2))}px`,m.textContent=l;let k=20,C=16,T=_+2,x=b+p.width-k-2;return(p.width<k+4||p.height<C+4)&&(T=_-C-2,x=b+p.width-k),T<0&&(T=_+2),x<0&&(x=b+2),x+k>window.innerWidth&&(x=b+p.width-k-2),m.style.top=`${T}px`,m.style.left=`${x}px`,e.appendChild(a),e.appendChild(m),t.setAttribute("browser-user-highlight-id",`playwright-highlight-${l}`),l+1}function u(t,l=!0){let i=[],e=t;for(;e&&e.nodeType===Node.ELEMENT_NODE&&!(l&&(e.parentNode instanceof ShadowRoot||e.parentNode instanceof HTMLIFrameElement));){let o=0,r=e.previousSibling;for(;r;)r.nodeType===Node.ELEMENT_NODE&&r.nodeName===e.nodeName&&o++,r=r.previousSibling;let h=e.nodeName.toLowerCase(),N=o>0?`[${o+1}]`:"";i.unshift(`${h}${N}`),e=e.parentNode}return i.join("/")}function d(t){return!new Set(["svg","script","style","link","meta"]).has(t.tagName.toLowerCase())}function E(t){let l=new Set(["a","button","details","embed","input","label","menu","menuitem","object","select","textarea","summary"]),i=new Set(["button","menu","menuitem","link","checkbox","radio","slider","tab","tabpanel","textbox","combobox","grid","listbox","option","progressbar","scrollbar","searchbox","switch","tree","treeitem","spinbutton","tooltip","a-button-inner","a-dropdown-button","click","menuitemcheckbox","menuitemradio","a-button-text","button-text","button-icon","button-icon-only","button-text-icon-only","dropdown","combobox"]),e=t.tagName.toLowerCase(),o=t.getAttribute("role"),r=t.getAttribute("aria-role"),h=t.getAttribute("tabindex");if(l.has(e)||i.has(o)||i.has(r)||h!==null&&h!=="-1"||t.getAttribute("data-action")==="a-dropdown-select"||t.getAttribute("data-action")==="a-dropdown-button")return!0;let a=window.getComputedStyle(t),p=t.onclick!==null||t.getAttribute("onclick")!==null||t.hasAttribute("ng-click")||t.hasAttribute("@click")||t.hasAttribute("v-on:click");function _(x){try{return window.getEventListeners?.(x)||{}}catch{let R={},M=["click","mousedown","mouseup","touchstart","touchend","keydown","keyup","focus","blur"];for(let A of M){let $=x[`on${A}`];$&&(R[A]=[{listener:$,useCapture:!1}])}return R}}let b=_(t),m=b&&(b.click?.length>0||b.mousedown?.length>0||b.mouseup?.length>0||b.touchstart?.length>0||b.touchend?.length>0),k=t.hasAttribute("aria-expanded")||t.hasAttribute("aria-pressed")||t.hasAttribute("aria-selected")||t.hasAttribute("aria-checked"),C=t.form!==void 0||t.hasAttribute("contenteditable")||a.userSelect!=="none",T=t.draggable||t.getAttribute("draggable")==="true";return k||p||m||T}function s(t){let l=window.getComputedStyle(t);return t.offsetWidth>0&&t.offsetHeight>0&&l.visibility!=="hidden"&&l.display!=="none"}function y(t){if(t.ownerDocument!==window.document)return!0;let i=t.getRootNode();if(i instanceof ShadowRoot){let r=t.getBoundingClientRect(),h={x:r.left+r.width/2,y:r.top+r.height/2};try{let N=i.elementFromPoint(h.x,h.y);if(!N)return!1;let a=N;for(;a&&a!==i;){if(a===t)return!0;a=a.parentElement}return!1}catch{return!0}}let e=t.getBoundingClientRect(),o={x:e.left+e.width/2,y:e.top+e.height/2};try{let r=document.elementFromPoint(o.x,o.y);if(!r)return!1;let h=r;for(;h&&h!==document.documentElement;){if(h===t)return!0;h=h.parentElement}return!1}catch{return!0}}function f(t){let l=document.createRange();l.selectNodeContents(t);let i=l.getBoundingClientRect();return i.width!==0&&i.height!==0&&i.top>=0&&i.top<=window.innerHeight&&t.parentElement?.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0})}function c(t,l=null){if(!t)return null;if(t.nodeType===Node.TEXT_NODE){let e=t.textContent.trim();return e&&f(t)?{type:"TEXT_NODE",text:e,isVisible:!0}:null}if(t.nodeType===Node.ELEMENT_NODE&&!d(t))return null;let i={tagName:t.tagName?t.tagName.toLowerCase():null,attributes:{},xpath:t.nodeType===Node.ELEMENT_NODE?u(t,!0):null,children:[]};if(t.nodeType===Node.ELEMENT_NODE&&t.attributes){let e=t.getAttributeNames?.()||[];for(let o of e)i.attributes[o]=t.getAttribute(o)}if(t.nodeType===Node.ELEMENT_NODE){let e=E(t),o=s(t),r=y(t);i.isInteractive=e,i.isVisible=o,i.isTopElement=r,e&&o&&r&&(i.highlightIndex=g++,window.clickable_elements[i.highlightIndex]=t,n&&w(t,i.highlightIndex,l))}if(t.shadowRoot&&(i.shadowRoot=!0),t.shadowRoot){let e=Array.from(t.shadowRoot.childNodes).map(o=>c(o,l));i.children.push(...e)}if(t.tagName==="IFRAME")try{let e=t.contentDocument||t.contentWindow.document;if(e){let o=Array.from(e.body.childNodes).map(r=>c(r,t));i.children.push(...o)}}catch{console.warn("Unable to access iframe:",t)}else{let e=Array.from(t.childNodes).map(o=>c(o,l));i.children.push(...e)}return i}return c(document.body)}window.get_clickable_elements=D,window.get_highlight_element=F,window.remove_highlight=L}O();})();
