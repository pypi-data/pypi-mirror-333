[tool.poetry]
name = "sudoblark-github-cli"
version = "1.0.0"
description = "A CLI to interact with GitHub, intended to be used for CI/CD operations."
license = "BSD-3"
authors = [
    "Ben Clark <bclark@sudoblark.com>"
]
readme = './docs/pypi_readme.md'
repository  = 'https://github.com/sudoblark/sudoblark.python.github-cli'
classifiers = [
    "Topic :: Software Development :: User Interfaces"
]

[tool.poetry.scripts]
sudoblark-github-cli = "sudoblark_github_cli.cli:app"

[tool.poetry.dependencies]
python = ">=3.10.0,<4.0"
sudoblark_python_core = "1.0.2"
typer = "^0.15.1"
rich = "^13.9.4"

[tool.poetry.group.test.dependencies]
pytest = { version = '*' }
flake8 = { version = "^7.1.1" }
flake8-pyproject = { version = "^1.2.3" }
black = "^25.1.0"
coverage = "^7.6.12"
requests = "^2.32.3"
lorem-text = "^2.1"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.black]
line-length = 144

[tool.flake8]
ignore = ["E203", "E266", "W503"]
max-line-length = 144
select = ["B", "C", "E", "F", "W", "T4", "B9"]
exclude = [
    ".git", "__pycache__", "old", "build", "dist", "database", "junit", "env", "_venv",
    ".venv", "custom", "./venv"
]

[tool.coverage.run]
branch = true
source = ["sudoblark_github_cli"]
omit = [
    "**/__init__.py",
    "tests/*",
     # Sometimes coverage picks up brew installs
    "**/.linuxbrew/*"
]

[tool.poetry.group.documentation.dependencies]
mkdocs-material = "^9.6.5"
mike = "^2.1.3"

[bandit]
targets = "sudoblark_github_cli"