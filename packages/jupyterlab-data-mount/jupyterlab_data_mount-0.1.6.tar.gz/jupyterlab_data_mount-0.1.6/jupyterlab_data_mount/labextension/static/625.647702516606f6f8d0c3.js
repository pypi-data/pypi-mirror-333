"use strict";(self.webpackChunkjupyterlab_data_mount=self.webpackChunkjupyterlab_data_mount||[]).push([[625],{1144:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},2017:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var o=a(4120),n=a(3345),s=a.n(n),l=a(4178);const i=new l.LabIcon({name:"jupyterlab-data-mount:cloud-storage",svgstr:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   viewBox="0 0 122.87 108.46"\n   width="20"\n   height="20"\n   version="1.1"\n   id="svg999"\n   sodipodi:docname="cloud-storage-icon.svg"\n   inkscape:version="1.1.2 (b8e25be833, 2022-02-05)"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:dc="http://purl.org/dc/elements/1.1/">\n  <sodipodi:namedview\n     id="namedview1001"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageshadow="2"\n     inkscape:pageopacity="0.0"\n     inkscape:pagecheckerboard="0"\n     showgrid="false"\n     inkscape:zoom="20.125"\n     inkscape:cx="3.2049689"\n     inkscape:cy="2.9068323"\n     inkscape:window-width="1920"\n     inkscape:window-height="1001"\n     inkscape:window-x="-9"\n     inkscape:window-y="-9"\n     inkscape:window-maximized="1"\n     inkscape:current-layer="svg999" />\n  <defs\n     id="defs993">\n    <style\n       id="style991">.cls-1{fill-rule:evenodd;}</style>\n  </defs>\n  <title\n     id="title995">cloud-storage</title>\n  <path\n     class="cls-1"\n     d="M23.88,0H69C77.1,0,83.12,5.72,85.31,13.25c.66.26,1.33.54,2,.86A27.39,27.39,0,0,1,100,26.62h0a21.22,21.22,0,0,1,3.55-.27,18.22,18.22,0,0,1,13.57,5.9,21.67,21.67,0,0,1,2.24,2.89,24.42,24.42,0,0,1,3.54,13.29A21.84,21.84,0,0,1,119,61.2a20.24,20.24,0,0,1-6.43,5.5,32.53,32.53,0,0,1-8.66,3.21l-.61.08H92l.22,2c.4,3.51.85,7,1.19,10.53.24,2.39.41,4.6.48,6.65a36.36,36.36,0,0,1-.56,8.82.58.58,0,0,1,0,.14A11.38,11.38,0,0,1,82,108.46H11.6A11.32,11.32,0,0,1,3.45,105C.12,101.53.29,98.39.16,94.27.09,92.22,0,90,0,87.79A109.64,109.64,0,0,1,.9,74.31L6.85,17c.94-9,7.44-17,17-17ZM89.12,37.94l-3.59-4.11a30.24,30.24,0,0,1,4-3.12,28,28,0,0,1,3.55-2c.49-.25,1-.48,1.49-.69a21.9,21.9,0,0,0-9.63-9,23.45,23.45,0,0,0-12.38-2.15A22.38,22.38,0,0,0,61,21.38a21.78,21.78,0,0,0-8,13.45l-.35,1.87L50.82,37A24.75,24.75,0,0,0,46,38.34a15.89,15.89,0,0,0-3.68,2A11.76,11.76,0,0,0,40,42.39a12.6,12.6,0,0,0-2.83,8.23A14.87,14.87,0,0,0,40,59.17a13.62,13.62,0,0,0,2.34,2.52,11.7,11.7,0,0,0,3.07,1.84,15.64,15.64,0,0,0,3.77,1H103A27.46,27.46,0,0,0,109.88,62a14.78,14.78,0,0,0,4.74-4,16.35,16.35,0,0,0,2.81-9.54,18.9,18.9,0,0,0-2.67-10.28A15.17,15.17,0,0,0,113.09,36a12.85,12.85,0,0,0-9.6-4.16c-5.74-.06-10.1,2.66-14.37,6.14ZM80.3,85.79h9.14c-.16-2.54-.44-5.45-.79-8.42a6.68,6.68,0,0,0-2.46-.46H8.48a6.81,6.81,0,0,0-3,.71c-.33,2.35-.73,5.27-.92,8.17H80.3ZM13.22,93.31H31.9v8.08H13.22V93.31Z"\n     id="path997" />\n  <metadata\n     id="metadata30870">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:title>cloud-storage</dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n</svg>\n'}),r=new l.LabIcon({name:"jupyterlab-data-mount:plus-icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-lg m-auto" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"></path>\n</svg>\n'}),d=new l.LabIcon({name:"jupyterlab-data-mount:delete-icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">\n  <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>\n</svg>\n'}),c=(new l.LabIcon({name:"jupyterlab-data-mount:refresh-icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>\n  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>\n</svg>\n'}),new l.LabIcon({name:"jupyterlab-data-mount:dir-icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 24 24" data-icon="ui-components:folder" data-icon-id="b3d8f824-5e88-4660-a390-70f5f1886e4d"><path fill="#616161" d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z" class="jp-icon3 jp-icon-selectable"></path></svg>\n'})),h=new l.LabIcon({name:"jupyterlab-data-mount:settings-icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" height="54" width="54" class="bi bi-play-fill" viewBox="0 0 54 54">\n\t<path d="M51.22,21h-5.052c-0.812,0-1.481-0.447-1.792-1.197s-0.153-1.54,0.42-2.114l3.572-3.571   c0.525-0.525,0.814-1.224,0.814-1.966c0-0.743-0.289-1.441-0.814-1.967l-4.553-4.553c-1.05-1.05-2.881-1.052-3.933,0l-3.571,3.571   c-0.574,0.573-1.366,0.733-2.114,0.421C33.447,9.313,33,8.644,33,7.832V2.78C33,1.247,31.753,0,30.22,0H23.78   C22.247,0,21,1.247,21,2.78v5.052c0,0.812-0.447,1.481-1.197,1.792c-0.748,0.313-1.54,0.152-2.114-0.421l-3.571-3.571   c-1.052-1.052-2.883-1.05-3.933,0l-4.553,4.553c-0.525,0.525-0.814,1.224-0.814,1.967c0,0.742,0.289,1.44,0.814,1.966l3.572,3.571   c0.573,0.574,0.73,1.364,0.42,2.114S8.644,21,7.832,21H2.78C1.247,21,0,22.247,0,23.78v6.439C0,31.753,1.247,33,2.78,33h5.052   c0.812,0,1.481,0.447,1.792,1.197s0.153,1.54-0.42,2.114l-3.572,3.571c-0.525,0.525-0.814,1.224-0.814,1.966   c0,0.743,0.289,1.441,0.814,1.967l4.553,4.553c1.051,1.051,2.881,1.053,3.933,0l3.571-3.572c0.574-0.573,1.363-0.731,2.114-0.42   c0.75,0.311,1.197,0.98,1.197,1.792v5.052c0,1.533,1.247,2.78,2.78,2.78h6.439c1.533,0,2.78-1.247,2.78-2.78v-5.052   c0-0.812,0.447-1.481,1.197-1.792c0.751-0.312,1.54-0.153,2.114,0.42l3.571,3.572c1.052,1.052,2.883,1.05,3.933,0l4.553-4.553   c0.525-0.525,0.814-1.224,0.814-1.967c0-0.742-0.289-1.44-0.814-1.966l-3.572-3.571c-0.573-0.574-0.73-1.364-0.42-2.114   S45.356,33,46.168,33h5.052c1.533,0,2.78-1.247,2.78-2.78V23.78C54,22.247,52.753,21,51.22,21z M52,30.22   C52,30.65,51.65,31,51.22,31h-5.052c-1.624,0-3.019,0.932-3.64,2.432c-0.622,1.5-0.295,3.146,0.854,4.294l3.572,3.571   c0.305,0.305,0.305,0.8,0,1.104l-4.553,4.553c-0.304,0.304-0.799,0.306-1.104,0l-3.571-3.572c-1.149-1.149-2.794-1.474-4.294-0.854   c-1.5,0.621-2.432,2.016-2.432,3.64v5.052C31,51.65,30.65,52,30.22,52H23.78C23.35,52,23,51.65,23,51.22v-5.052   c0-1.624-0.932-3.019-2.432-3.64c-0.503-0.209-1.021-0.311-1.533-0.311c-1.014,0-1.997,0.4-2.761,1.164l-3.571,3.572   c-0.306,0.306-0.801,0.304-1.104,0l-4.553-4.553c-0.305-0.305-0.305-0.8,0-1.104l3.572-3.571c1.148-1.148,1.476-2.794,0.854-4.294   C10.851,31.932,9.456,31,7.832,31H2.78C2.35,31,2,30.65,2,30.22V23.78C2,23.35,2.35,23,2.78,23h5.052   c1.624,0,3.019-0.932,3.64-2.432c0.622-1.5,0.295-3.146-0.854-4.294l-3.572-3.571c-0.305-0.305-0.305-0.8,0-1.104l4.553-4.553   c0.304-0.305,0.799-0.305,1.104,0l3.571,3.571c1.147,1.147,2.792,1.476,4.294,0.854C22.068,10.851,23,9.456,23,7.832V2.78   C23,2.35,23.35,2,23.78,2h6.439C30.65,2,31,2.35,31,2.78v5.052c0,1.624,0.932,3.019,2.432,3.64   c1.502,0.622,3.146,0.294,4.294-0.854l3.571-3.571c0.306-0.305,0.801-0.305,1.104,0l4.553,4.553c0.305,0.305,0.305,0.8,0,1.104   l-3.572,3.571c-1.148,1.148-1.476,2.794-0.854,4.294c0.621,1.5,2.016,2.432,3.64,2.432h5.052C51.65,23,52,23.35,52,23.78V30.22z"/>\n\t<path d="M27,18c-4.963,0-9,4.037-9,9s4.037,9,9,9s9-4.037,9-9S31.963,18,27,18z M27,34c-3.859,0-7-3.141-7-7s3.141-7,7-7   s7,3.141,7,7S30.859,34,27,34z"/>\n</svg>\n'}),p=new l.LabIcon({name:"jupyterlab-data-mount:stop-icon",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stop-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3z"/>\n</svg>\n'});var m=a(6925),u=a(9682),g=a(8883);class v extends n.Component{render(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"data-mount-sidepanel-header container mb-3"},n.createElement("a",{"data-tooltip-id":"data-mount-tooltip-documentation","data-tooltip-html":"Click for documentation","data-tooltip-place":"left",className:"data-mount-sidepanel-header-documentation lh-1 ms-auto data-mount-dialog-label-tooltip",href:"https://jsc-jupyter.github.io/jupyterlab-data-mount/",target:"_blank"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))),n.createElement("div",{className:"data-mount-sidepanel-header-button-div mt-3"},this.props.failedLoading&&n.createElement(n.Fragment,null,n.createElement(m.A,{variant:"contained",size:"small",disabled:!0},"Start failed."),n.createElement("p",null,"Check logs in Browser for more information")),!this.props.failedLoading&&this.props.loading&&n.createElement(m.A,{variant:"contained",size:"small",disabled:!0},"Loading ..."),!this.props.failedLoading&&!this.props.loading&&n.createElement(m.A,{variant:"contained",size:"small",startIcon:n.createElement(u.A,null),onClick:()=>this.props.commands.execute(this.props.commandId)},"Add Mount")),n.createElement("hr",null)),n.createElement(g.Tooltip,{id:"data-mount-tooltip-documentation"}))}}var b=a(7891),w=a.n(b);class f extends n.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onValueChange(this.props.key_,e.target.value)},this.handleSearchableChange=e=>{this.props.onValueChange(this.props.key_,e.value)},this.handleChange=this.handleChange.bind(this),this.handleSearchableChange=this.handleSearchableChange.bind(this),this.selectRef=n.createRef()}render(){const e=this.props.selected,t=this.props.values,a=this.props.label,o=this.props.tooltip,s=t.map((t=>t.value===e?n.createElement("option",{value:t.value,selected:!0},t.label):n.createElement("option",{value:t.value},t.label)));return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-12"},n.createElement("div",{className:"row mb-1"},a&&n.createElement("div",{className:"col-4 col-form-label d-flex align-items-center"},n.createElement("label",null,a,":"),o&&n.createElement("a",{"data-tooltip-id":`data-mount-tooltip-${name}`,"data-tooltip-html":o,"data-tooltip-place":"top",className:"lh-1 ms-auto data-mount-dialog-label-tooltip"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})))),n.createElement("div",{className:"col-8 d-flex flex-column justify-content-center"},this.props.searchable&&n.createElement(w(),{options:t,value:t.find((t=>t.value===e)),isDisabled:!this.props.editable,placeholder:"Select an option",onChange:this.handleSearchableChange,styles:{menu:e=>({...e,maxHeight:"300px",overflowY:"auto",zIndex:9999})}}),!this.props.searchable&&n.createElement("select",{ref:this.selectRef,className:"data-mount-select",key:this.props.key_,disabled:!this.props.editable,name:this.props.key_,onChange:this.handleChange},s)))),n.createElement(g.Tooltip,{id:`data-mount-tooltip-${name}`}))}}class C extends n.Component{constructor(e){super(e),this.state={value:e.value||"",showPassword:"password"!==e.type},this.togglePasswordVisibility=this.togglePasswordVisibility.bind(this),this.handleChange=this.handleChange.bind(this)}handleChange(e){const t=e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(e)}togglePasswordVisibility(){this.setState((e=>({showPassword:!e.showPassword})))}getValue(){return this.state.value}render(){const{label:e,name:t,value:a,type:o="text",placeholder:n,required:l,tooltip:i}=this.props,{showPassword:r}=this.state,d="password"!==o||r?"text":"password";return s().createElement("div",{className:"row"},s().createElement("div",{className:"col-12"},s().createElement("div",{className:"row mb-1"},e&&s().createElement("div",{className:"col-4 col-form-label d-flex align-items-center"},s().createElement("label",null,e,":"),i&&s().createElement("a",{"data-tooltip-id":`data-mount-tooltip-${t}`,"data-tooltip-html":i,"data-tooltip-place":"top",className:"lh-1 ms-auto data-mount-dialog-label-tooltip"},s().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},s().createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),s().createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})))),s().createElement("div",{className:"col-8 d-flex flex-column justify-content-center"},s().createElement("div",{className:"input-group"},s().createElement("input",{type:d,value:a,name:t,onChange:this.handleChange,placeholder:n,disabled:!this.props.editable,required:l,className:"form-control data-mount-dialog-textfield"}),"password"===o&&s().createElement("span",{className:"input-group-append"},s().createElement("button",{className:"btn btn-light",type:"button",onClick:this.togglePasswordVisibility},s().createElement("i",{className:"fa "+(r?"fa-eye-slash":"fa-eye"),"aria-hidden":"true"}))))))),s().createElement(g.Tooltip,{id:`data-mount-tooltip-${t}`}))}}var x=a(6688);class y extends n.Component{constructor(e){super(e),this.state={checked:e.checked||!0},this.handleChange=this.handleChange.bind(this)}handleChange(e){const t=e.target.checked;this.setState({checked:t}),this.props.onChange&&this.props.onChange(e)}getValue(){return this.state.checked}render(){const{label:e,name:t,checked:a,tooltip:o}=this.props;return s().createElement("div",{className:"row"},s().createElement("div",{className:"col-12"},s().createElement("div",{className:"row mb-1"},e&&s().createElement("div",{className:"col-4 col-form-label d-flex align-items-center"},s().createElement("label",null,e,":"),o&&s().createElement("a",{"data-tooltip-id":`data-mount-tooltip-${t}`,"data-tooltip-html":o,"data-tooltip-place":"top",className:"lh-1 ms-auto data-mount-dialog-label-tooltip"},s().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},s().createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),s().createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})))),s().createElement("div",{className:"col-8 d-flex flex-column justify-content-center"},s().createElement("div",{className:"input-group"},s().createElement(x.A,{name:t,checked:a,onChange:this.handleChange,inputProps:{"aria-label":"controlled"},disabled:!this.props.editable}))))),s().createElement(g.Tooltip,{id:`data-mount-tooltip-${t}`}))}}class E extends n.Component{constructor(e){super(e),this.handleDropdownChange=this.handleDropdownChange.bind(this),this.handleTextFieldChange=this.handleTextFieldChange.bind(this)}componentWillUnmount(){Object.keys(this.state).forEach((e=>{this.props.onValueChange(e,null)}))}componentDidMount(){Object.entries(this.state).forEach((([e,t])=>{this.props.onValueChange(e,t)}))}getDisplayName(){return"Replace in subclass"}handleDropdownChange(e,t){this.setState({[e]:t},(()=>{this.props.onValueChange&&this.props.onValueChange(e,t)}))}handleTextFieldChange(e){const{name:t,value:a}=e.target;this.setState({[t]:a},(()=>{this.props.onValueChange&&this.props.onValueChange(t,a)}))}render(){return n.createElement("div",null,n.createElement("h2",null,"Replace in specific mount type"))}}class k extends E{constructor(e){super(e),this.tooltips={remotepath:'Path in B2Drop to mount. "/" mounts all of your B2Drop files',user:"User name or App name",obscure_pass:"Password or App password"},this.handleUserTextFieldChange=this.handleUserTextFieldChange.bind(this),!e.editable&&e.options&&Object.keys(e.options).length>0?this.state=e.options:this.state={remotepath:"/",type:"webdav",url:"https://b2drop.eudat.eu/remote.php/webdav/",vendor:"nextcloud",user:"",obscure_pass:""}}getDisplayName(){return"B2Drop"}handleUserTextFieldChange(e){const t=e.target.value;this.setState({user:t,url:`https://b2drop.eudat.eu/remote.php/dav/files/${t}/`},(()=>{this.props.onValueChange&&(this.props.onValueChange("user",t),this.props.onValueChange("url",`https://b2drop.eudat.eu/remote.php/dav/files/${t}/`))}))}render(){return n.createElement("div",{className:"data-mount-dialog-options"},n.createElement("div",{className:"row mb-1 data-mount-dialog-config-header"},n.createElement("p",null,"B2Drop Configuration",n.createElement("a",{"data-tooltip-id":"data-mount-b2drop-tooltip","data-tooltip-html":"Click for documentation","data-tooltip-place":"left",className:"data-mount-b2drop-tooltip lh-1 ms-1 data-mount-dialog-label-tooltip",href:"https://jsc-jupyter.github.io/jupyterlab-data-mount/users/templates/b2drop/",target:"_blank"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))))),n.createElement(C,{label:"Path",name:"remotepath",tooltip:this.tooltips.remotepath,value:this.state.remotepath,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"User",name:"user",tooltip:this.tooltips.user,value:this.state.user,editable:this.props.editable,onChange:this.handleUserTextFieldChange}),n.createElement(C,{label:"Password",type:"password",name:"obscure_pass",tooltip:this.tooltips.obscure_pass,value:this.state.obscure_pass,editable:this.props.editable,onChange:this.handleTextFieldChange}))}}class _ extends E{constructor(e){super(e),this.tooltips={remotepath:"The name of the bucket to mount",access_key_id:"AWS Access Key ID",secret_access_key:"AWS Secret Access Key (password)",region:"Region to connect to"},this.awsRegions=[{value:"eu-north-1",label:"EU (Stockholm) (eu-north-1)"},{value:"eu-central-1",label:"EU (Frankfurt) (eu-central-1)"},{value:"eu-west-1",label:"EU (Ireland) (eu-west-1)"},{value:"eu-west-2",label:"EU (London) (eu-west-2)"},{value:"ca-central-1",label:"Canada (Central) (ca-central-1)"},{value:"us-east-1",label:"US East (Northern Virginia) (us-east-1)"},{value:"us-east-2",label:"US East (Ohio) (us-east-2)"},{value:"us-west-1",label:"US West (Northern California) (us-west-1)"},{value:"us-west-2",label:"US West (Oregon) (us-west-2)"},{value:"ap-southeast-1",label:"Asia Pacific (Singapore) (ap-southeast-1)"},{value:"ap-southeast-2",label:"Asia Pacific (Sydney) (ap-southeast-2)"},{value:"ap-northeast-1",label:"Asia Pacific (Tokyo) (ap-northeast-1)"},{value:"ap-northeast-2",label:"Asia Pacific (Seoul) (ap-northeast-2)"},{value:"ap-south-1",label:"Asia Pacific (Mumbai) (ap-south-1)"},{value:"sa-east-1",label:"South America (Sao Paulo) (sa-east-1)"}],!e.editable&&e.options&&Object.keys(e.options).length>0?this.state=e.options:this.state={remotepath:"bucketname",type:"s3",provider:"AWS",access_key_id:"",secret_access_key:"",region:"eu-north-1"}}getDisplayName(){return`AWS (${this.state.remotepath})`}render(){return n.createElement("div",{className:"data-mount-dialog-options"},n.createElement("div",{className:"row mb-1 data-mount-dialog-config-header"},n.createElement("p",null,"AWS Configuration",n.createElement("a",{"data-tooltip-id":"data-mount-aws-tooltip","data-tooltip-html":"Click for documentation","data-tooltip-place":"left",className:"data-mount-aws-tooltip lh-1 ms-1 data-mount-dialog-label-tooltip",href:"https://jsc-jupyter.github.io/jupyterlab-data-mount/users/templates/aws/",target:"_blank"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))))),n.createElement(C,{label:"Bucket Name",name:"remotepath",value:this.state.remotepath,onChange:this.handleTextFieldChange,editable:this.props.editable}),n.createElement(f,{label:"Region",key_:"region",selected:this.state.region,values:this.awsRegions,tooltip:this.tooltips.region,onValueChange:this.handleDropdownChange,editable:this.props.editable,searchable:!0}),n.createElement(C,{label:"Username",name:"access_key_id",tooltip:this.tooltips.access_key_id,value:this.state.access_key_id,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"Password",name:"secret_access_key",type:"password",tooltip:this.tooltips.secret_access_key,value:this.state.secret_access_key,editable:this.props.editable,onChange:this.handleTextFieldChange}))}}class S extends E{constructor(e){super(e),this.providerOptions=[{value:"AWS",label:"Amazon Web Services (AWS) S3"},{value:"Alibaba",label:"Alibaba Cloud Object Storage System (OSS) formerly Aliyun"},{value:"Ceph",label:"Ceph Object Storage"},{value:"DigitalOcean",label:"Digital Ocean Spaces"},{value:"Dreamhost",label:"Dreamhost DreamObjects"},{value:"IBMCOS",label:"IBM COS S3"},{value:"Minio",label:"Minio Object Storage"},{value:"Netease",label:"Netease Object Storage (NOS)"},{value:"Wasabi",label:"Wasabi Object Storage"},{value:"Other",label:"Any other S3 compatible provider"}],this.tooltips={remotepath:"The name of the bucket to mount",provider:"Choose your S3 provider.",access_key_id:"AWS Access Key ID",secret_access_key:"AWS Secret Access Key (password)",endpoint:"Endpoint for S3 API.<br />       Required when using an S3 clone",region:"Leave blank if you are using an S3 clone and you don't have a region"},!e.editable&&e.options&&Object.keys(e.options).length>0?this.state=e.options:this.state={remotepath:"bucketname",type:"s3",provider:"",access_key_id:"",secret_access_key:"",endpoint:"",region:""}}getDisplayName(){return`S3 (${this.state.provider})`}render(){return n.createElement("div",{className:"data-mount-dialog-options"},n.createElement("div",{className:"row mb-1 data-mount-dialog-config-header"},n.createElement("p",null,"S3 Compliant Storage Provider Configuration",n.createElement("a",{"data-tooltip-id":"data-mount-s3-tooltip","data-tooltip-html":"Click for documentation","data-tooltip-place":"left",className:"data-mount-s3-tooltip lh-1 ms-1 data-mount-dialog-label-tooltip",href:"https://jsc-jupyter.github.io/jupyterlab-data-mount/users/templates/s3/",target:"_blank"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))))),n.createElement(f,{label:"Provider",key_:"provider",tooltip:this.tooltips.provider,selected:this.state.provider,values:this.providerOptions,onValueChange:this.handleDropdownChange,editable:this.props.editable,searchable:!0}),n.createElement(C,{label:"Bucket Name",name:"remotepath",value:this.state.remotepath,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"Endpoint for S3 API",name:"endpoint",tooltip:this.tooltips.endpoint,value:this.state.endpoint,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"Username",name:"access_key_id",tooltip:this.tooltips.access_key_id,value:this.state.access_key_id,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"Password",name:"secret_access_key",type:"password",tooltip:this.tooltips.secret_access_key,value:this.state.secret_access_key,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"Region",name:"region",tooltip:this.tooltips.region,value:this.state.region,editable:this.props.editable,onChange:this.handleTextFieldChange}))}}class N extends E{constructor(e){super(e),this.tooltips={remotepath:'Path to mount. "/" mounts all of your files',type:"",url:"URL of http host to connect to",vendor:"Name of the WebDAV site/service/software you are using",user:"User name or App name",obscure_pass:"Password or App password",bearer_token:"Bearer token instead of user/pass (eg a Macaroon)"},this.vendorOptions=[{value:"nextcloud",label:"Nextcloud"},{value:"owncloud",label:"Owncloud"},{value:"sharepoint",label:"Sharepoint"},{value:"other",label:"Other site/service or software"}],!e.editable&&e.options&&Object.keys(e.options).length>0?this.state=e.options:this.state={remotepath:"/",type:"webdav",url:"https://b2drop.eudat.eu/remote.php/webdav/",vendor:"nextcloud",user:"",obscure_pass:"",bearer_token:""}}render(){return n.createElement("div",{className:"data-mount-dialog-options"},n.createElement("div",{className:"row mb-1 data-mount-dialog-config-header"},n.createElement("p",null,"WebDAV Configuration",n.createElement("a",{"data-tooltip-id":"data-mount-webdav-tooltip","data-tooltip-html":"Click for documentation","data-tooltip-place":"left",className:"data-mount-webdav-tooltip lh-1 ms-1 data-mount-dialog-label-tooltip",href:"https://jsc-jupyter.github.io/jupyterlab-data-mount/users/templates/webdav/",target:"_blank"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))))),n.createElement(C,{label:"Path",name:"remotepath",tooltip:this.tooltips.remotepath,value:this.state.remotepath,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"URL",name:"url",tooltip:this.tooltips.url,value:this.state.url,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(f,{label:"Vendor",key_:"vendor",tooltip:this.tooltips.vendor,selected:this.state.vendor,values:this.vendorOptions,onValueChange:this.handleDropdownChange,editable:this.props.editable,searchable:!0}),n.createElement(C,{label:"User",name:"user",tooltip:this.tooltips.user,value:this.state.user,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"Password",type:"password",name:"obscure_pass",tooltip:this.tooltips.obscure_pass,value:this.state.obscure_pass,editable:this.props.editable,onChange:this.handleTextFieldChange}),n.createElement(C,{label:"Bearer Token (optional)",name:"bearer_token",tooltip:this.tooltips.bearer_token,value:this.state.bearer_token,editable:this.props.editable,onChange:this.handleTextFieldChange}))}}class M extends n.Component{constructor(e){super(e),this.handleAdd=()=>{this.props.addButton&&this.props.addButton()},this.handleDel=()=>{this.props.delButton&&this.props.delButton(this.props.index)},this.state={valueFirst:e.valueFirst||"",valueSecond:e.valueSecond||""},this.handleKeyChange=this.handleKeyChange.bind(this),this.handleValueChange=this.handleValueChange.bind(this),this.handleDel=this.handleDel.bind(this),this.keyRef=n.createRef(),this.valueRef=n.createRef()}handleKeyChange(e){if(this.setState({valueFirst:e.target.value}),this.props.onTextChange){const t=this.valueRef.current.value;this.props.onTextChange(this.props.index,e.target.value,t)}}handleValueChange(e){if(this.setState({valueSecond:e.target.value}),this.props.onTextChange){const t=this.keyRef.current.value;this.props.onTextChange(this.props.index,t,e.target.value)}}render(){const{valueFirst:e,valueSecond:t,placeholderFirst:a,placeholderSecond:o,editable:s}=this.props;return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-12"},n.createElement("div",{className:"row mb-1"},n.createElement("div",{className:"col-12 d-flex justify-content-center"},n.createElement("input",{type:"text",ref:this.keyRef,value:e,onChange:this.handleKeyChange,placeholder:a,disabled:!s||0===this.props.index,className:"form-control data-mount-dialog-textfield "+(this.props.invalid?"invalid":"")}),n.createElement("input",{type:"text",ref:this.valueRef,value:t,onChange:this.handleValueChange,placeholder:o,disabled:!s,className:"form-control data-mount-dialog-textfield"}),0!==this.props.index&&n.createElement("button",{style:{marginLeft:"8px"},className:"icon-button",onClick:this.handleDel,disabled:!s},n.createElement(d.react,{tag:"span",width:"16px",height:"16px"})),0===this.props.index&&n.createElement("button",{style:{marginLeft:"8px",opacity:0,pointerEvents:"none"},className:"icon-button",disabled:!0},n.createElement(d.react,{tag:"span",width:"16px",height:"16px"})),n.createElement("button",{style:{marginLeft:"8px"},className:"icon-button",onClick:this.handleAdd,disabled:!s},n.createElement(r.react,{tag:"span",width:"16px",height:"16px"}))))),n.createElement(g.Tooltip,{id:`data-mount-tooltip-${name}`}))}}class A extends E{constructor(e){if(super(e),!e.editable&&e.options&&Object.keys(e.options).length>0){const t=Object.entries(e.options).filter((([e,t])=>!["displayName","readonly"].includes(e))).map((([e,t],a)=>({valueFirst:e,valueSecond:t,invalid:!1,index:a})));this.state={rows:t}}else this.state={rows:[{valueFirst:"type",valueSecond:"s3",invalid:!1,index:0}]};this.onTextChange=this.onTextChange.bind(this),this.addRow=this.addRow.bind(this),this.delRow=this.delRow.bind(this)}onTextChange(e,t,a){const o=this.state.rows.some((a=>a.index!==e&&a.valueFirst===t&&!a.invalid)),n=this.state.rows.map((n=>n.index===e?{...n,valueFirst:t,valueSecond:a,invalid:o}:n));this.setState({rows:n},(()=>{this.props.onValueChange&&this.props.onValueChange()}))}getValue(){return this.state.rows.reduce(((e,t)=>(e[t.valueFirst]=t.valueSecond,e)),{})}addRow(){const e={valueFirst:"",valueSecond:"",invalid:!1,index:this.state.rows[this.state.rows.length-1].index+1};this.setState((t=>({rows:[...t.rows,e]})))}delRow(e){const t=this.state.rows.filter((t=>t.index!==e));this.setState({rows:t},(()=>{this.props.onValueChange&&this.props.onValueChange()}))}getDisplayName(){return`Generic ${this.state.rows[0].valueSecond}`}render(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"data-mount-dialog-options"},n.createElement("div",{className:"row mb-1 data-mount-dialog-config-header"},n.createElement("p",null,"Generic Configuration",n.createElement("a",{"data-tooltip-id":"data-mount-generic-tooltip","data-tooltip-html":"Click for documentation","data-tooltip-place":"left",className:"data-mount-generic-tooltip lh-1 ms-1 data-mount-dialog-label-tooltip",href:"https://jsc-jupyter.github.io/jupyterlab-data-mount/users/templates/generic/",target:"_blank"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-info-circle",viewBox:"0 0 16 16",style:{verticalAlign:"sub"}},n.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))))),n.createElement(g.Tooltip,{id:"data-mount-generic-tooltip"}),this.state.rows.map((e=>n.createElement(M,{index:e.index,totalCount:this.state.rows.length,valueFirst:e.valueFirst,valueSecond:e.valueSecond,invalid:e.invalid,onTextChange:this.onTextChange,addButton:this.addRow,delButton:this.delRow,placeholderFirst:"key",placeholderSecond:"value",editable:this.props.editable})))))}}class P extends o.ReactWidget{getValue(){try{const e=this.mountcomponent_ref.current.template_ref.current.getDisplayName();return{template:this.mountcomponent_ref.current.state.datamount.template,path:this.mountcomponent_ref.current.state.datamount.path,options:{...this.mountcomponent_ref.current.state.datamount.options,displayName:e},loading:!1,failedLoading:!1}}catch(e){return{template:"none",path:`${this.mountDir}/none`,options:{},loading:!1,failedLoading:!1}}}constructor(e,t,a,o){super(),this.editable=e,this.options=t,this.templates=a,this.mountDir=o,this.mountcomponent_ref=n.createRef()}render(){return n.createElement(D,{ref:this.mountcomponent_ref,editable:this.editable,options:this.options,templates:this.templates,mountDir:this.mountDir})}}class D extends n.Component{handleTemplateChange(e,t){this.setState((e=>({datamount:{...e.datamount,template:t,path:`${this.props.mountDir}/${t}`}})))}handlePathChange(e){const{value:t}=e.target;this.setState((e=>({datamount:{...e.datamount,template:e.datamount.template,path:t}})))}handleCheckboxChange(e){const{checked:t}=e.target;this.setState((e=>({datamount:{...e.datamount,template:e.datamount.template,options:{...e.datamount.options,readonly:t}}})))}handleGenericOptionChange(){if(this.template_ref.current){const e=this.state.datamount.options.readonly,t=this.template_ref.current.state.rows.reduce(((e,t)=>(e[t.valueFirst]=t.valueSecond,e)),{});this.setState((a=>({datamount:{...a.datamount,template:a.datamount.template,config:{...t,readonly:e}}})))}}constructor(e){var t,a,o,s,l,i,r,d,c,h;if(super(e),this.templates_all=[{value:"aws",label:"AWS"},{value:"b2drop",label:"B2Drop"},{value:"s3",label:"S3 Compliant Storage Provider"},{value:"webdav",label:"WebDAV"},{value:"generic",label:"Generic"}],this.handleOptionChange=(e,t)=>{this.setState((a=>{const o={...a.datamount,template:a.datamount.template,config:{...a.datamount.options}};return null===t?delete o.options[e]:o.options[e]=t,{datamount:o}}))},this.template_ref=n.createRef(),this.tooltips={path:`Prefix ${this.props.mountDir} will be added automatically.`},this.state={datamount:{template:(null===(t=e.options)||void 0===t?void 0:t.template)||e.templates[0],path:(null===(a=e.options)||void 0===a?void 0:a.path)||`${e.mountDir}/${e.templates[0]}`,options:{...null===(o=e.options)||void 0===o?void 0:o.options,readonly:null!==(i=null===(l=null===(s=e.options)||void 0===s?void 0:s.options)||void 0===l?void 0:l.readonly)&&void 0!==i&&i},loading:null!==(d=null===(r=e.options)||void 0===r?void 0:r.loading)&&void 0!==d&&d,failedLoading:null!==(h=null===(c=e.options)||void 0===c?void 0:c.failedLoading)&&void 0!==h&&h}},e.templates){const t=new Map(e.templates.map(((e,t)=>[e,t])));this.templates=this.templates_all.filter((e=>t.has(e.value))).sort(((e,a)=>t.get(e.value)-t.get(a.value)))}else this.templates=[...this.templates_all];this.handleTemplateChange=this.handleTemplateChange.bind(this),this.handlePathChange=this.handlePathChange.bind(this),this.handleGenericOptionChange=this.handleGenericOptionChange.bind(this),this.handleOptionChange=this.handleOptionChange.bind(this),this.handleCheckboxChange=this.handleCheckboxChange.bind(this)}render(){const{template:e}=this.state.datamount;return n.createElement(n.Fragment,null,n.createElement(f,{label:"Template",key_:"template",selected:this.state.datamount.template,values:this.templates,onValueChange:this.handleTemplateChange,editable:this.props.editable,searchable:!0}),n.createElement(C,{label:"Mount Path",name:"path",tooltip:this.tooltips.path,value:this.state.datamount.path,editable:this.props.editable,onChange:this.handlePathChange}),n.createElement(y,{label:"Read only",name:"readonly",checked:this.state.datamount.options.readonly,editable:this.props.editable,onChange:this.handleCheckboxChange}),"b2drop"===e&&n.createElement(k,{onValueChange:this.handleOptionChange,ref:this.template_ref,editable:this.props.editable,options:this.state.datamount.options}),"generic"===e&&n.createElement(A,{onValueChange:this.handleGenericOptionChange,ref:this.template_ref,editable:this.props.editable,options:this.state.datamount.options}),"aws"===e&&n.createElement(_,{onValueChange:this.handleOptionChange,ref:this.template_ref,editable:this.props.editable,options:this.state.datamount.options}),"s3"===e&&n.createElement(S,{onValueChange:this.handleOptionChange,ref:this.template_ref,editable:this.props.editable,options:this.state.datamount.options}),"webdav"===e&&n.createElement(N,{onValueChange:this.handleOptionChange,ref:this.template_ref,editable:this.props.editable,options:this.state.datamount.options}))}}var L=a(4979);class z extends n.Component{constructor(e){super(e)}render(){return n.createElement("div",{className:"data-mount-sidebar"},n.createElement("div",{className:"data-mount-sidebar-header"},n.createElement("div",{className:"header-item name"},"Mount"),n.createElement("div",{className:"header-item actions"},"Actions")),n.createElement("ul",{className:"data-mount-sidebar-list"},this.props.mountPoints.map((e=>n.createElement(j,{mount:e,commands:this.props.commands,templates:this.props.templates,mountDir:this.props.mountDir,removeMountPoint:this.props.removeMountPoint})))))}}class j extends n.Component{constructor(e){super(e),this.openDirectory=e=>{this.props.commands.execute("filebrowser:open-path",{path:e})},this.openDialog=()=>{const e=[o.Dialog.okButton({label:"Ok"})],t={template:this.props.mount.template,path:this.props.mount.path,options:{...this.props.mount.options}},a=new P(!1,t,this.props.templates,this.props.mountDir);a.node.style.overflow="visible",a.node.className="data-mount-dialog-body",(0,o.showDialog)({title:"Data Mount",body:a,buttons:e})}}render(){const e=this.props.mount.loading||!1,t=L.PageConfig.getOption("serverRoot");let a=this.props.mount.path.replace(t,"");return a.startsWith("/")&&(a=a.substring(1)),n.createElement("li",{key:this.props.mount.options.displayName,className:"data-mount-sidebar-item"},n.createElement("span",{className:"item-name "+(this.props.mount.options.external||e?"external":"")},this.props.mount.options.displayName,e?" ( loading ... )":""),n.createElement("span",{className:"item-actions"},!e&&n.createElement("button",{className:"icon-button",title:`Open ${a}`,onClick:()=>this.openDirectory(a)},n.createElement(c.react,{tag:"span",width:"16px",height:"16px"})),!e&&!this.props.mount.options.external&&n.createElement(n.Fragment,null,n.createElement("button",{className:"icon-button",title:"Show options",onClick:this.openDialog},n.createElement(h.react,{tag:"span",width:"16px",height:"16px"})),n.createElement("button",{className:"icon-button unmount",title:"Unmount",onClick:async()=>{try{await this.props.removeMountPoint(this.props.mount)}catch(e){console.error("Unmount failed:",e)}}},n.createElement(p.react,{tag:"span",width:"16px",height:"16px"})))))}}var B,F=a(6916);async function T(e="",t={}){const a=F.ServerConnection.makeSettings(),o=L.URLExt.join(a.baseUrl,"data-mount",e);let n;try{n=await F.ServerConnection.makeRequest(o,t,a)}catch(e){throw new F.ServerConnection.NetworkError(e)}let s=await n.text();if(s.length>0)try{s=JSON.parse(s)}catch(e){console.log("Not a JSON response body.",n)}if(!n.ok)throw new F.ServerConnection.ResponseError(n,s.message||s);return s}class V extends n.Component{constructor(e){super(e),this._app=e.app,this._commands=e.commands,this._openCommandId=e.commandId,this._templates=e.templates,this._mountDir=e.mountDir,this.removeMountPoint=this.removeMountPoint.bind(this),this.state={mountPoints:[],globalLoading:!0,globalLoadingFailed:!1}}async reloadMountPoints(){try{const e=await async function(){let e=[];try{e=await T("")}catch(e){throw console.error(`Data Mount: Could not receive MountPoints.\n${e}`),new Error(`Failed to fetch mount points\n${e}`)}return e}();this.setState({mountPoints:e,globalLoading:!1})}catch(e){this.setState({globalLoadingFailed:!0,globalLoading:!1})}}async componentDidMount(){await this.reloadMountPoints()}setMountPointLoaded(e){this.setState((t=>({mountPoints:t.mountPoints.map((t=>t.path===e.path?{...t,loading:!1}:t))})))}addMountPoint(e){this.setState((t=>({mountPoints:[...t.mountPoints,e]})))}addFailedMountPoint(e){this.setState((t=>({mountPoints:[...t.mountPoints,e]})))}async removeMountPoint(e,t){try{await async function(e){const t=encodeURIComponent(e.path);try{await T(t,{body:JSON.stringify(e),method:"DELETE"})}catch(e){throw e?new Error(`${e}`):new Error("Failed to delete mount point.")}}(e),this.setState((t=>({mountPoints:t.mountPoints.filter((t=>t.path!==e.path))})))}catch(a){if(t)try{this.setState((t=>({mountPoints:t.mountPoints.filter((t=>t.path!==e.path))})))}catch(e){console.error("Error updating mount points:",e)}else alert(`Could not unmount ${e.options.displayName}.\nCheck ${this.props.mountDir}/mount.log for details`)}}render(){return n.createElement("body",null,n.createElement(v,{commands:this._commands,commandId:this._openCommandId,loading:this.state.globalLoading,failedLoading:this.state.globalLoadingFailed}),n.createElement(z,{app:this._app,commands:this._commands,commandId:this._openCommandId,templates:this._templates,mountDir:this._mountDir,loading:this.state.globalLoading,mountPoints:this.state.mountPoints,removeMountPoint:this.removeMountPoint}))}}class O extends o.ReactWidget{constructor(e,t,a,o,s){super(),this._sidebarComponentRef=n.createRef(),this._app=e,this.id="data-mount-jupyterlab:sidebarwidget",this.title.caption="Data Mount",this._commands=t,this._openCommandId=a,this._templates=o,this._mountDir=s,this.title.icon=i,this.addClass("jp-data-mount")}async removeMountPoint(e,t){this._sidebarComponentRef.current&&await this._sidebarComponentRef.current.removeMountPoint(e,t)}addMountPoint(e){this._sidebarComponentRef.current&&this._sidebarComponentRef.current.addMountPoint(e)}setMountPointLoaded(e){this._sidebarComponentRef.current&&this._sidebarComponentRef.current.setMountPointLoaded(e)}render(){return n.createElement("body",null,n.createElement(V,{ref:this._sidebarComponentRef,app:this._app,commands:this._commands,commandId:this._openCommandId,templates:this._templates,mountDir:this._mountDir}))}}!function(e){e.opendialog="jupyterlab-data-mount:opendialog"}(B||(B={})),a(6378);const R={id:"jupyterlab-data-mount:plugin",description:"A JupyterLab extension to mount external data storage locations.",autoStart:!0,requires:[o.ICommandPalette],activate:async function(e,t){console.log("JupyterLab extension jupyterlab-data-mount is activated!");const a=await async function(){let e=[];try{e=await T("templates",{method:"GET"})}catch(t){throw e=["aws","b2drop","s3","webdav","generic"],console.error(`Data Mount: Could not get templates.\n${t}`),new Error(`Failed to get templates.\n${t}`)}return e}(),n=await async function(){let e=[];try{e=await T("mountdir",{method:"GET"})}catch(t){throw e=["aws","b2drop","s3","webdav","generic"],console.error(`Data Mount: Could not get templates.\n${t}`),new Error(`Failed to get templates.\n${t}`)}return e}(),s=new O(e,e.commands,B.opendialog,a,n);e.shell.add(s,"left"),e.shell.activateById(s.id),function(e,t,a,n){e.commands.addCommand(B.opendialog,{label:e=>"Open Data Mount",caption:"Open Data Mount",icon:e=>i,execute:async()=>{const e=[o.Dialog.cancelButton({label:"Cancel"}),o.Dialog.okButton({label:"Mount"})],s=new P(!0,{},a,n);s.node.style.overflow="visible",s.node.className="data-mount-dialog-body",(0,o.showDialog)({title:"Data Mount",body:s,buttons:e}).then((e=>{e.button.accept&&async function(e,t,a){try{e.loading=!0,t.addMountPoint(e),await async function(e){try{await T("",{body:JSON.stringify(e),method:"POST"})}catch(e){throw console.error(`Data Mount: Could not add MountPoint.\n${e}`),new Error(`Failed to add mount point.\n${e}`)}}(e),e.loading=!1,t.setMountPointLoaded(e)}catch(o){alert(`Could not mount ${e.options.displayName}.\nCheck ${a}/mount.log for details`),await t.removeMountPoint(e,!0)}}(e.value,t,n)}))}})}(e,s,a,n),t.addItem({command:B.opendialog,category:"Data"})}}},2247:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%2833, 37, 41, 0.75%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},3385:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},4274:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},4718:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},5372:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},5419:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},5531:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},5782:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},5932:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},6366:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},6690:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%236ea8fe%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},7115:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23dee2e6%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},7154:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},7210:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27none%27 stroke=%27%23052c65%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpath d=%27M2 5L8 11L14 5%27/%3e%3c/svg%3e"},7249:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z%27/%3e%3c/svg%3e"},7326:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27none%27 stroke=%27%23212529%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpath d=%27M2 5L8 11L14 5%27/%3e%3c/svg%3e"},8487:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"},8734:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%28255, 255, 255, 0.25%29%27/%3e%3c/svg%3e"}}]);